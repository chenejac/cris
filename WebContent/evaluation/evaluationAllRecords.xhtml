<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:p="http://primefaces.org/ui"
     xmlns:mytags="http://dragan.tmd.uns.ac.rs/mytags"
     >
	<f:view locale="#{userManagedBean.language}" 
		contentType="text/html; charset=iso-8859-1" 
		beforePhase="#{evaluationAllRecordsManagedBean.enterPage}" >
		<h:head>
			<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
			<meta http-equiv="Refresh" content="#{session.maxInactiveInterval};url=index.html" />
			<meta http-equiv="Pragma" content="no-cache"/>
			<meta http-equiv="Expires" content="-1"/>
			<title><ui:insert name="title">CRIS UNS</ui:insert></title>
		</h:head>
		<h:body>
			<h:outputStylesheet library="stylesheet" name="theme.css" target="head"/>
			<h:outputScript library="js" name="functions.js" target="head"/>
			<f:loadBundle
				basename="rs.ac.uns.ftn.informatika.bibliography.utils.ResourceBoundles"
				var="messages" />
			<div id="center">
				<p:spacer
					height="20"
					width="1" 
					/>
				<div id="pleaseWait" class="transparent"></div>
				<div id="progressBar" class="progressbar"><h:graphicImage
					library="img" name="progressbar.gif"></h:graphicImage></div>
				<p:ajaxStatus for="form_region" onstart="onStart()" oncomplete="onStop()"/>
				<p:fragment id="form_region">
					<h:form id="evaluationAllRecordsForm">
						<h:panelGrid id="mainPanel">
							<p:inputText id="general" rendered="false" value="" />
							<p:outputPanel ajaxRendered="true">
								<p:message
									for="general"
									errorClass="errorMessage" 
									infoClass="infoMessage"
									warnClass="warnMessage"
									fatalClass="fatalMessage"/>
							</p:outputPanel>
							
							<p:panel id="CurrentTaskPanel">
								<f:facet name="header">		
									<h:outputText value="#{messages['evaluation.evaluationAllRecords.currentTasks']}" />
								</f:facet>
								<h:panelGrid id="CurrentTaskPanelGrid" columns="2" columnClasses="width90, width10" width="100%">
									<p:outputPanel ajaxRendered="true">
										<!-- kada postoji aktivna nit -->
										<h:outputText value="#{evaluationAllRecordsManagedBean.evaluationScheduledThread}"
										escape="#{false}"
										rendered="#{evaluationAllRecordsManagedBean.evaluationScheduledThread != null}"/>
										<p:commandLink
														action="#{evaluationAllRecordsManagedBean.stopActiveThread}"
														render="CurrentTaskPanelGrid"
														limitRender="true" 
														immediate="true" 
														execute="@this" 
														rendered="#{evaluationAllRecordsManagedBean.evaluationScheduledThread != null}">
														<h:graphicImage library="img" name="delete.png" />
										</p:commandLink>
										<!-- kada ne postoji aktivna nit -->
										<h:outputText value="#{messages['evaluation.evaluationAllRecords.noActiveTasks']}" rendered="#{evaluationAllRecordsManagedBean.evaluationScheduledThread == null}"/>
										<h:outputText value=" " rendered="#{evaluationAllRecordsManagedBean.evaluationScheduledThread == null}"/>
									</p:outputPanel>
								</h:panelGrid>
							</p:panel>
							
							<p:panel id="BasicOptionsPanel">
								<f:facet name="header">		
									<h:outputText value="#{messages['evaluation.evaluationAllRecords.basicOptionsPanel.header']}" />
								</f:facet>
								
								<h:panelGrid id="BasicOptionsPanelGrid" columns="3" columnClasses="width15, width75, width10" width="100%">
									<!-- ....... dugme evaluacije i dugme resetovanja forme.......           -->
									<p:commandButton
											action="#{evaluationAllRecordsManagedBean.setEvaluationTask}"
											render="BasicOptionsPanelGrid"
											value="#{messages['evaluation.evaluationAllRecords.buttonEvaluationTask']}"
											/>
									<p:commandButton
											action="#{evaluationAllRecordsManagedBean.resetFormForEvaluationTask}"
											render="mainPanel"
											value="#{messages['evaluation.evaluationAllRecords.buttonResetFormForEvaluationTask']}"
									/>
									<!-- ....... ispis koji potvrdjuje uspesano pokretanje taska.......           -->
									<h:outputText value="#{evaluationAllRecordsManagedBean.messageAboutTask}" rendered="#{evaluationAllRecordsManagedBean.messageAboutTask != null}"/>
									<h:outputText value="" rendered="#{evaluationAllRecordsManagedBean.messageAboutTask == null}"/>
									
									<!-- ....... start Date for task.......           -->
									<mytags:outputLabel 
											value="#{messages['evaluation.evaluationAllRecords.taskDate']}" 
											for="taskDate" 
											errorStyleClass="errorMessage"
									/>
									<p:calendar
											id="taskDate"
											locale="en/US"
											value="#{evaluationAllRecordsManagedBean.taskDate}"
											datePattern="d/M/yy HH:mm"
											required="true"
											firstWeekDay="1"
											dayDisableFunction="disablementPeviousDate"
											dayClassFunction="disablementPeviousDateStyleClass"
											enableManualInput="true"
											defaultTime="23:00"
									/>
									<p:outputPanel ajaxRendered="true">
											<p:message
												for="taskDate" 
												errorClass="errorMessage"
												infoClass="infoMessage"
												warnClass="warnMessage"
												fatalClass="fatalMessage" />
									</p:outputPanel>
									<!-- ....... tipovi zapisa koji se vrednuju.......           -->
									<mytags:outputLabel 
											value="#{messages['evaluation.evaluationAllRecords.evaluationTaskTypeRecordOptions']}"
											for="evaluationTaskTypeRecordOptions" 
											errorStyleClass="errorMessage"
									/>
									<p:selectOneRadio
										 id="evaluationTaskTypeRecordOptions"
										 value="#{evaluationAllRecordsManagedBean.evaluationTaskTypeRecordOptions}"
										 title="#{messages['evaluation.evaluationAllRecords.chooseEvaluationTaskTypeRecordOptions']}"
										 onchange="jsFuncChooseTaskTypeRecord()"
										 style="display:block; text-align:center !important;">
										 <f:selectItem itemLabel="#{messages['evaluation.evaluationAllRecords.onlyJournals']}" itemValue="#{evaluationAllRecordsManagedBean.onlyJournals}"/>
										 <f:selectItem itemLabel="#{messages['evaluation.evaluationAllRecords.onlyResearchResultsForSelectedJournals']}" itemValue="#{evaluationAllRecordsManagedBean.onlyResearchResultsForSelectedJournals}"/>
										 <f:selectItem itemLabel="#{messages['evaluation.evaluationAllRecords.onlyResearchConferenceResults']}" itemValue="#{evaluationAllRecordsManagedBean.onlyResearchConferenceResults}"/>
										 <!--<f:selectItem itemLabel="#{messages['evaluation.evaluationAllRecords.journalsAndResearchResultsForSelectedJournals']}" itemValue="#{evaluationAllRecordsManagedBean.journalsAndResearchResultsForSelectedJournals}"/>
									--></p:selectOneRadio>
									<p:outputPanel ajaxRendered="true">
											<p:message
												for="evaluationTaskTypeRecordOptions" 
												errorClass="errorMessage"
												infoClass="infoMessage"
												warnClass="warnMessage"
												fatalClass="fatalMessage" />
									</p:outputPanel>
									<!-- ....... java script funkcije.......           -->
									<p:remoteCommand
										name="jsFuncChooseTaskTypeRecord"
										execute="evaluationTaskTypeRecordOptions"
										action="#{evaluationAllRecordsManagedBean.clearJournalAndResearchResultsOptions}"
										render="JournalsOptionsPanelGrid ResearchResultsOptionsPanelGrid CommissionsPanelGrid"
									/>
								</h:panelGrid>
								
						 	</p:panel>
						 	
						 	<h:panelGrid id="JournalsOptionsPanelGrid"
											 >
							 	<p:panel id="JournalsOptionsPanel"
							 		rendered = "#{evaluationAllRecordsManagedBean.evaluationTaskTypeRecordOptions != evaluationAllRecordsManagedBean.onlyResearchConferenceResults}"
												>
									<f:facet name="header">		
										<h:outputText value="#{messages['evaluation.evaluationAllRecords.journalsOptionsPanel.header']}" />
									</f:facet>
										<h:panelGrid  columns="1" columnClasses="width100" width="100%">
										
											<h:panelGrid id="JournalsBasicOptionsPanelGrid"
												columns="3" columnClasses="width15, width75, width10" width="100%">
													<!-- ....... osnovne opscije vrednovanja casopisa.......           -->
													<mytags:outputLabel 
															value="#{messages['evaluation.evaluationAllRecords.evaluationTaskJournalsOptions']}" 
															for="evaluationTaskJournalsOptions" 
															errorStyleClass="errorMessage"
													/>
													
													<p:selectOneRadio
														 id="evaluationTaskJournalsOptions"
														 value="#{evaluationAllRecordsManagedBean.evaluationTaskJournalsOptions}"
														 title="#{messages['evaluation.evaluationAllRecords.chooseEvaluationTaskJournalsOptions']}" 
														 onchange="jsFuncChooseJournalRecords()"
														 style="display:block; text-align:center !important;"
														 >
														 <f:selectItem itemLabel="#{messages['evaluation.evaluationAllRecords.allJournals']}" itemValue="#{evaluationAllRecordsManagedBean.allJournals}"/>
														 <f:selectItem itemLabel="#{messages['evaluation.evaluationAllRecords.journalsModifiedWithinTimeRange']}" itemValue="#{evaluationAllRecordsManagedBean.journalsModifiedWithinTimeRange}"
														 	itemDisabled="#{evaluationAllRecordsManagedBean.evaluationTaskTypeRecordOptions == evaluationAllRecordsManagedBean.onlyResearchResultsForSelectedJournals}"/>
														 <f:selectItem itemLabel="#{messages['evaluation.evaluationAllRecords.selectedJournals']}" itemValue="#{evaluationAllRecordsManagedBean.selectedJournals}"
														 	itemDisabled="#{(evaluationAllRecordsManagedBean.evaluationTaskTypeRecordOptions == evaluationAllRecordsManagedBean.onlyResearchResultsForSelectedJournals) and (not empty evaluationAllRecordsManagedBean.researchResultList)}"/>
													</p:selectOneRadio>
													
													<p:outputPanel ajaxRendered="true">
															<p:message
																for="evaluationTaskJournalsOptions" 
																errorClass="errorMessage"
																infoClass="infoMessage"
																warnClass="warnMessage"
																fatalClass="fatalMessage" />
													</p:outputPanel>
													<!-- ....... java script funkcije.......           -->
													<p:remoteCommand
														name="jsFuncChooseJournalRecords"
														execute="evaluationTaskJournalsOptions"
														action="#{evaluationAllRecordsManagedBean.clearJournalOptions}"
														render="JournalsInTimeRangePanelGrid JournalsSelectionPanelGrid"
													/>
											</h:panelGrid>
											
											<h:panelGrid id="JournalsInTimeRangePanelGrid" columns="3" columnClasses="width15, width75, width10" width="100%">
													<!-- ....... start Date for journals.......           -->
													<mytags:outputLabel 
														value="#{messages['evaluation.evaluationAllRecords.fromDate']}" 
														for="journalsFromDate" 
														errorStyleClass="errorMessage"
													/>
													<p:calendar
															id="journalsFromDate"
															disabled="#{evaluationAllRecordsManagedBean.evaluationTaskJournalsOptions != evaluationAllRecordsManagedBean.journalsModifiedWithinTimeRange}"
															locale="en/US"
															value="#{evaluationAllRecordsManagedBean.journalsFromDate}"
															datePattern="d/M/yy HH:mm"
															dayDisableFunction="disablementFutureDate"
															dayClassFunction="disablementFutureStyleClass"
															enableManualInput="true"
															defaultTime="00:00:00"
															/>
													<p:outputPanel ajaxRendered="true">
															<p:message
																for="journalsFromDate" 
																errorClass="errorMessage"
																infoClass="infoMessage"
																warnClass="warnMessage"
																fatalClass="fatalMessage" />
													</p:outputPanel>
													<!-- ....... end Date for journals.......           -->
													<mytags:outputLabel 
														value="#{messages['evaluation.evaluationAllRecords.toDate']}" 
														for="journalsToDate" 
														errorStyleClass="errorMessage"
													/>
													<p:calendar
															id="journalsToDate"
															locale="en/US"
															disabled="#{evaluationAllRecordsManagedBean.evaluationTaskJournalsOptions != evaluationAllRecordsManagedBean.journalsModifiedWithinTimeRange}"
															value="#{evaluationAllRecordsManagedBean.journalsToDate}"
															datePattern="d/M/yy HH:mm"
															dayDisableFunction="disablementFutureDate"
															dayClassFunction="disablementFutureStyleClass"
															enableManualInput="true"
															defaultTime="23:59:59"
															/>
													<p:outputPanel ajaxRendered="true">
															<p:message
																for="journalsToDate" 
																errorClass="errorMessage"
																infoClass="infoMessage"
																warnClass="warnMessage"
																fatalClass="fatalMessage" />
													</p:outputPanel>
											</h:panelGrid>
		
											<h:panelGrid id="JournalsSelectionPanelGrid" columns="1" columnClasses="width100" width="100%">
												<p:fragment>
												<h:panelGrid columns="3" columnClasses="width15, width75, width10" width="100%">
													<!-- ....... evaluate specific record.......           -->
													<mytags:outputLabel 
														value="#{messages['evaluation.evaluationAllRecords.journal']}" 
														for="journalSelected" 
														errorStyleClass="errorMessage"
													/>
													<p:autoComplete id="journalSelected"
														disabled="#{evaluationAllRecordsManagedBean.evaluationTaskJournalsOptions != evaluationAllRecordsManagedBean.selectedJournals}"
														mode="ajax" minChars="3" selectFirst="false"
														value="#{evaluationAllRecordsManagedBean.journalControlNumber}" 
														autocompleteMethod="#{journalManagedBean.autocompleteName}"
														var="_journalRow"
							            				fetchValue="#{_journalRow.controlNumber}"
							            				autofill="false"
							            				onselectitem="jsFuncChooseJournal()" 
							            				style="width:100% !important;"
														inputClass="width98"
							            				>
							            			 	<!--     ........  name   ISSN .......-->
											            <p:column
															style="'background-color:#{org.richfaces.SKIN.tableBackgroundColor}';"
															styleClass="ui-datatable-wide-cell">
															<h:outputText value="#{_journalRow.someName} &nbsp; ( &nbsp; #{_journalRow.issn} &nbsp;)"/>	
														</p:column>
													</p:autoComplete>
													<p:outputPanel ajaxRendered="true">
															<p:message
																for="journalSelected" 
																errorClass="errorMessage"
																infoClass="infoMessage"
																warnClass="warnMessage"
																fatalClass="fatalMessage" />
													</p:outputPanel>
													<!-- ....... java script funkcije.......           -->
													<p:remoteCommand
															name="jsFuncChooseJournal"
															execute="journalSelected"
															action="#{evaluationAllRecordsManagedBean.addSelectedJouranlToList}" 
															render="JournalsOptionsPanelGrid"
															>
													</p:remoteCommand>
												</h:panelGrid>
												<h:panelGrid id="JournalsSelectionListPanelGrid" columns="1" columnClasses="width100" width="100%">
													<p:dataTable id="journalsListTable"
														value="#{evaluationAllRecordsManagedBean.journalList}"
														var="singleRecordRow"
														rowKeyVar="singleRecordKeyVar"
														columnClasses="width90, width10"
														rendered="#{not empty evaluationAllRecordsManagedBean.journalList}"
														>
														<!--     ........  name   .......-->
														<p:column>
															<f:facet name="header">
																<h:outputText
																	value="#{messages['evaluation.evaluationAllRecords.publicationName']}" />
															</f:facet>
															<h:outputText value="#{singleRecordRow}" />
														</p:column>
														<!--     ........  remove  .......-->
														<p:column>
															<f:facet name="header">
																<h:outputText
																	value="#{messages['evaluation.evaluationAllRecords.options']}" />
															</f:facet>
															<p:commandLink
																action="#{evaluationAllRecordsManagedBean.removeSelectedJournalFromList}"
																render="JournalsSelectionListPanelGrid"
																limitRender="true" 
																immediate="true" 
																execute="@this" >
																<h:graphicImage library="img" name="delete.png" />
																<f:param name="ordNum" value="#{singleRecordKeyVar}" />
															</p:commandLink>
														</p:column>
													</p:dataTable>
													<p:spacer
														height="40"
														width="100%"
														rendered="#{not empty evaluationAllRecordsManagedBean.journalList}"
													/>
												</h:panelGrid>
												</p:fragment>
											</h:panelGrid>
											
										</h:panelGrid>
								</p:panel>
							</h:panelGrid>
							<p:panel id="ResearchResultsOptionsPanel">
								<f:facet name="header">		
									<h:outputText value="#{messages['evaluation.evaluationAllRecords.researchResultsOptionsPanel.header']}" />
								</f:facet>
									
									<h:panelGrid id="ResearchResultsOptionsPanelGrid" columns="1" columnClasses="width100" width="100%">
										
										<h:panelGrid id="ResearchResultsBasicOptionsPanelGrid" columns="3" columnClasses="width15, width75, width10" width="100%">
											<!-- ....... osnovne opcije naucnih rezultata odabir rezultata.......           -->
											<mytags:outputLabel 
													value="#{messages['evaluation.evaluationAllRecords.evaluationTaskResearchResultsOptions']}"  
													for="evaluationTaskResearchResultsOptions" 
													errorStyleClass="errorMessage"
											/>
											
											<p:selectOneRadio
												 id="evaluationTaskResearchResultsOptions"
												 disabled="#{(evaluationAllRecordsManagedBean.evaluationTaskTypeRecordOptions != evaluationAllRecordsManagedBean.onlyResearchResultsForSelectedJournals) and (evaluationAllRecordsManagedBean.evaluationTaskTypeRecordOptions != evaluationAllRecordsManagedBean.onlyResearchConferenceResults)}"
												 value="#{evaluationAllRecordsManagedBean.evaluationTaskResearchResultsOptions}"
												 title="#{messages['evaluation.evaluationAllRecords.chooseEvaluationTaskResearchResultsOptions']}" 
												 onchange="jsFuncChooseResearchResultsRecords()"
												 style="display:block; text-align:center !important;"
												 >
												 <f:selectItem itemLabel="#{messages['evaluation.evaluationAllRecords.allResearchResults']}"  itemValue="#{evaluationAllRecordsManagedBean.allResearchResults}"/>
												 <f:selectItem itemLabel="#{messages['evaluation.evaluationAllRecords.researchResultsModifiedWithinTimeRange']}" itemValue="#{evaluationAllRecordsManagedBean.researchResultsModifiedWithinTimeRange}"/>
												 <f:selectItem itemLabel="#{messages['evaluation.evaluationAllRecords.selectedResearchResults']}" itemValue="#{evaluationAllRecordsManagedBean.selectedResearchResults}"/>
											</p:selectOneRadio>
											
											<p:outputPanel ajaxRendered="true">
													<p:message
														for="evaluationTaskResearchResultsOptions" 
														errorClass="errorMessage"
														infoClass="infoMessage"
														warnClass="warnMessage"
														fatalClass="fatalMessage" />
											</p:outputPanel>
											
											<!-- ....... osnovne opcije naucnih rezultata odabir komisija.......           -->
											
											<mytags:outputLabel 
													value="#{messages['evaluation.evaluationAllRecords.evaluationTaskResearchResultsCommissionOptions']}"  
													for="evaluationTaskResearchResultsCommissionOptions" 
													errorStyleClass="errorMessage"
											/>
											
											<p:selectOneRadio
												 id="evaluationTaskResearchResultsCommissionOptions"
												 disabled="#{(evaluationAllRecordsManagedBean.evaluationTaskTypeRecordOptions != evaluationAllRecordsManagedBean.onlyResearchResultsForSelectedJournals) and (evaluationAllRecordsManagedBean.evaluationTaskTypeRecordOptions != evaluationAllRecordsManagedBean.onlyResearchConferenceResults)}"
												 value="#{evaluationAllRecordsManagedBean.evaluationTaskResearchResultsCommissionOptions}"
												 title="#{messages['evaluation.evaluationAllRecords.chooseEvaluationTaskResearchResultsCommissionOptions']}"
												 style="display:block; text-align:center !important;"
												 >
												 <f:selectItem 
												 	itemLabel="#{messages['evaluation.evaluationAllRecords.researchResultsBySelectedCommissions']}"  
												 	itemValue="#{evaluationAllRecordsManagedBean.evaluateResearchResultsBySelectedCommissions}" 
												 	itemDisabled="#{evaluationAllRecordsManagedBean.evaluationTaskTypeRecordOptions == evaluationAllRecordsManagedBean.onlyResearchConferenceResults}"
												 />
												 <f:selectItem itemLabel="#{messages['evaluation.evaluationAllRecords.researchResultsByAuthorsCommissions']}" itemValue="#{evaluationAllRecordsManagedBean.evaluateResearchResultsByAuthorsCommissions}"/>
											</p:selectOneRadio>
											
											<p:outputPanel ajaxRendered="true">
													<p:message
														for="evaluationTaskResearchResultsCommissionOptions" 
														errorClass="errorMessage"
														infoClass="infoMessage"
														warnClass="warnMessage"
														fatalClass="fatalMessage" />
											</p:outputPanel>
											<!-- ....... java script funkcije.......           -->
											<p:remoteCommand
												name="jsFuncChooseResearchResultsRecords"
												execute="evaluationTaskResearchResultsOptions"
												action="#{evaluationAllRecordsManagedBean.clearResearchResultsOptions}"
												render="ResearchResultsInTimeRangePanelGrid ResearchResultsSelectionPanelGrid"
											/>
										</h:panelGrid>
										
										<h:panelGrid id="ResearchResultsInTimeRangePanelGrid" columns="3" columnClasses="width15, width75, width10" width="100%">
												<!-- ....... start Date for research results.......           -->
												<mytags:outputLabel 
													value="#{messages['evaluation.evaluationAllRecords.fromDate']}" 
													for="researchResultsFromDate" 
													errorStyleClass="errorMessage"
												/>
												<p:calendar
														id="researchResultsFromDate"
														disabled="#{evaluationAllRecordsManagedBean.evaluationTaskResearchResultsOptions != evaluationAllRecordsManagedBean.researchResultsModifiedWithinTimeRange}"
														locale="en/US"
														value="#{evaluationAllRecordsManagedBean.researchResultsFromDate}"
														datePattern="d/M/yy HH:mm"
														dayDisableFunction="disablementFutureDate"
														dayClassFunction="disablementFutureStyleClass"
														enableManualInput="true"
														defaultTime="00:00:00"
														/>
												<p:outputPanel ajaxRendered="true">
														<p:message
															for="researchResultsFromDate" 
															errorClass="errorMessage"
															infoClass="infoMessage"
															warnClass="warnMessage"
															fatalClass="fatalMessage" />
												</p:outputPanel>
												<!-- ....... end Date for research results.......           -->
												<mytags:outputLabel 
													value="#{messages['evaluation.evaluationAllRecords.toDate']}" 
													for="researchResultsToDate" 
													errorStyleClass="errorMessage"
												/>
												<p:calendar
														id="researchResultsToDate"
														locale="en/US"
														disabled="#{evaluationAllRecordsManagedBean.evaluationTaskResearchResultsOptions != evaluationAllRecordsManagedBean.researchResultsModifiedWithinTimeRange}"
														value="#{evaluationAllRecordsManagedBean.researchResultsToDate}"
														datePattern="d/M/yy HH:mm"
														dayDisableFunction="disablementFutureDate"
														dayClassFunction="disablementFutureStyleClass"
														enableManualInput="true"
														defaultTime="23:59:59"
														/>
												<p:outputPanel ajaxRendered="true">
														<p:message
															for="researchResultsToDate" 
															errorClass="errorMessage"
															infoClass="infoMessage"
															warnClass="warnMessage"
															fatalClass="fatalMessage" />
												</p:outputPanel>
										</h:panelGrid>
										
										<h:panelGrid id="ResearchResultsSelectionPanelGrid" columns="1" columnClasses="width100" width="100%">
											<p:fragment>
											<h:panelGrid 
												rendered="#{(evaluationAllRecordsManagedBean.evaluationTaskTypeRecordOptions == evaluationAllRecordsManagedBean.onlyResearchResultsForSelectedJournals)}"
												columns="3" columnClasses="width15, width75, width10" width="100%">
												<!-- ....... evaluate specific research result recird .......           -->
												<mytags:outputLabel 
													value="#{messages['evaluation.evaluationAllRecords.researchResults']}" 
													for="researchResultsSelected" 
													errorStyleClass="errorMessage"
												/>
												<p:autoComplete id="researchResultsSelected"
													disabled="#{evaluationAllRecordsManagedBean.evaluationTaskResearchResultsOptions != evaluationAllRecordsManagedBean.selectedResearchResults}"
													mode="ajax" minChars="3" selectFirst="false"
													value="#{evaluationAllRecordsManagedBean.researchResultControlNumber}" 
													autocompleteMethod="#{paperJournalManagedBean.autocompleteTitle}"
													var="_researchResultRow"
						            				fetchValue="#{_researchResultRow.controlNumber}"
						            				autofill="false"
						            				onselectitem="jsFuncChooseResearchResults()" 
						            				style="width:100% !important;"
													inputClass="width98"
						            				>
						            			 	<!--     ........  name .......-->
										            <p:column
														style="'background-color:#{org.richfaces.SKIN.tableBackgroundColor}';"
														styleClass="ui-datatable-wide-cell">
														<h:outputText value="#{_researchResultRow}"/>	
													</p:column>
												</p:autoComplete>
												<p:outputPanel ajaxRendered="true">
														<p:message
															for="researchResultsSelected" 
															errorClass="errorMessage"
															infoClass="infoMessage"
															warnClass="warnMessage"
															fatalClass="fatalMessage" />
												</p:outputPanel>
												<!-- ....... java script funkcije.......           -->
												<p:remoteCommand
														name="jsFuncChooseResearchResults"
														execute="researchResultsSelected"
														action="#{evaluationAllRecordsManagedBean.addSelectedResearchResultToList}" 
														render="ResearchResultsSelectionPanelGrid JournalsOptionsPanelGrid"
														>
												</p:remoteCommand>
											</h:panelGrid>
											
											
											<h:panelGrid 
												rendered="#{(evaluationAllRecordsManagedBean.evaluationTaskTypeRecordOptions == evaluationAllRecordsManagedBean.onlyResearchConferenceResults)}"
												columns="3" columnClasses="width15, width75, width10" width="100%">
												<!-- ....... evaluate specific research result recird .......           -->
												<mytags:outputLabel 
													value="#{messages['evaluation.evaluationAllRecords.researchResults']}" 
													for="researchResultsSelected" 
													errorStyleClass="errorMessage"
												/>
												<p:autoComplete id="researchResultsSelectedConference"
													disabled="#{evaluationAllRecordsManagedBean.evaluationTaskResearchResultsOptions != evaluationAllRecordsManagedBean.selectedResearchResults}"
													mode="ajax" minChars="3" selectFirst="false"
													value="#{evaluationAllRecordsManagedBean.researchResultControlNumber}" 
													autocompleteMethod="#{paperProceedingsManagedBean.autocompleteTitle}"
													var="_researchResultRow"
						            				fetchValue="#{_researchResultRow.controlNumber}"
						            				autofill="false"
						            				onselectitem="jsFuncChooseResearchResultsConference()" 
						            				style="width:100% !important;"
													inputClass="width98"
						            				>
						            			 	<!--     ........  name .......-->
										            <p:column
														style="'background-color:#{org.richfaces.SKIN.tableBackgroundColor}';"
														styleClass="ui-datatable-wide-cell">
														<h:outputText value="#{_researchResultRow}"/>	
													</p:column>
												</p:autoComplete>
												<p:outputPanel ajaxRendered="true">
														<p:message
															for="researchResultsSelectedConference" 
															errorClass="errorMessage"
															infoClass="infoMessage"
															warnClass="warnMessage"
															fatalClass="fatalMessage" />
												</p:outputPanel>
												<!-- ....... java script funkcije.......           -->
												<p:remoteCommand
														name="jsFuncChooseResearchResultsConference"
														execute="researchResultsSelectedConference"
														action="#{evaluationAllRecordsManagedBean.addSelectedResearchResultToList}" 
														render="ResearchResultsSelectionPanelGrid JournalsOptionsPanelGrid"
														>
												</p:remoteCommand>
											</h:panelGrid>
											
											<h:panelGrid id="ResearchResultsSelectionListPanelGrid" columns="1" columnClasses="width100" width="100%">
												<p:dataTable id="researchResultListTable"
													value="#{evaluationAllRecordsManagedBean.researchResultList}"
													var="singleResearchResultRow"
													rowKeyVar="singleResearchResultKeyVar"
													columnClasses="width90, width10"
													rendered="#{not empty evaluationAllRecordsManagedBean.researchResultList}"
													>
													<!--     ........  name   .......-->
													<p:column>
														<f:facet name="header">
															<h:outputText
																value="#{messages['evaluation.evaluationAllRecords.researchResultsName']}"  />
														</f:facet>
														<h:outputText value="#{singleResearchResultRow}" />
													</p:column>
													<!--     ........  remove  .......-->
													<p:column>
														<f:facet name="header">
															<h:outputText
																value="#{messages['evaluation.evaluationAllRecords.options']}" />
														</f:facet>
														<p:commandLink
															action="#{evaluationAllRecordsManagedBean.removeSelectedResearchResultFromList}"
															render="ResearchResultsSelectionListPanelGrid JournalsOptionsPanelGrid"
															limitRender="true" 
															immediate="true" 
															execute="@this" >
															<h:graphicImage library="img" name="delete.png" />
															<f:param name="ordNum" value="#{singleResearchResultKeyVar}" />
														</p:commandLink>
													</p:column>
												</p:dataTable>
												<p:spacer
													height="40"
													width="100%"
													rendered="#{not empty evaluationAllRecordsManagedBean.researchResultList}"
												/>			
											</h:panelGrid>
											</p:fragment>
										</h:panelGrid>
										
									</h:panelGrid>
						 	</p:panel>
						 	
							<h:panelGrid id="CommissionsPanelGrid">
								<p:panel id="RuleBookAndCommissionOptionPanel"
									rendered = "#{evaluationAllRecordsManagedBean.evaluationTaskTypeRecordOptions != evaluationAllRecordsManagedBean.onlyResearchConferenceResults}"
												>
									<f:facet name="header">		
										<h:outputText value="#{messages['evaluation.evaluationAllRecords.RuleBookAndCommissionPanel.header']}" />
									</f:facet>
									<h:panelGrid id="RuleBookAndCommissionOptionPanelGrid" columns="2" columnClasses="width5, width95" width="100%">
										<mytags:outputLabel 
												value="#{messages['evaluation.evaluationAllRecords.commission']}" 
												for="commissions" 
												errorStyleClass="errorMessage"
										/>
										<p:pickList id="commissions" value="#{evaluationAllRecordsManagedBean.selectedCommissionIDList}" sourceCaption="#{messages['evaluation.evaluationAllRecords.commissionsAvailable']}" targetCaption="#{messages['evaluation.evaluationAllRecords.commissionsSelected']}"
										listHeight="300px" orderable="true" listWidth="100%" style="width:100% !important;">
							                <f:selectItems value="#{evaluationAllRecordsManagedBean.commissionList}" var="com" itemValue="#{com.commissionId}" itemLabel="#{com}" />
							            </p:pickList>
							            <h:outputText value="" />
							            <p:outputPanel ajaxRendered="true">
													<p:message
														for="commissions" 
														errorClass="errorMessage"
														infoClass="infoMessage"
														warnClass="warnMessage"
														fatalClass="fatalMessage" />
										</p:outputPanel>
										<mytags:outputLabel 
												value="#{messages['evaluation.evaluationAllRecords.ruleBook']}: " 
												for="ruleBooks" 
												errorStyleClass="errorMessage"
										/>
										<p:selectOneMenu id="ruleBooks" value="#{evaluationAllRecordsManagedBean.ruleBookId}">
											<f:selectItem itemValue="#{null}" itemLabel="#{messages['evaluation.evaluationAllRecords.allRuleBooks']}"/>
											<f:selectItems value="#{evaluationAllRecordsManagedBean.ruleBookList}" var="ruleBook" itemValue="#{ruleBook.classId}" itemLabel="#{ruleBook}"/>
										</p:selectOneMenu>
										<h:outputText value="" />
										<p:outputPanel ajaxRendered="true">
													<p:message
														for="ruleBooks" 
														errorClass="errorMessage"
														infoClass="infoMessage"
														warnClass="warnMessage"
														fatalClass="fatalMessage" />
										</p:outputPanel>
									</h:panelGrid>
							 	</p:panel>
							 </h:panelGrid>
						</h:panelGrid>
					</h:form>
				</p:fragment>
			</div>
			<p:spacer
				height="70"
				width="1"/>
			<div id="footer">
    			<ui:insert name="footer">
					<ui:include src="../footer.xhtml"/>
				</ui:insert>
			</div>
		</h:body>
	</f:view>
</html>
