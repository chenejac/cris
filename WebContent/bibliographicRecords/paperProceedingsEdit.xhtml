<ui:composition xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:p="http://primefaces.org/ui"
     xmlns:mytags="http://dragan.tmd.uns.ac.rs/mytags">

	<h:panelGrid id="paperProceedingsEditFormPanel">
		<p:inputText id="general" rendered="false" value="" />
		<p:outputPanel ajaxRendered="true">
			<p:message
				for="general"
				errorClass="errorMessage"
				infoClass="infoMessage"
				warnClass="warnMessage"
				fatalClass="fatalMessage"/>
		</p:outputPanel>
		<!-- .......PaperProceedings.......           -->
		<p:panel id="paperProceedingsPreview"
			header="#{messages['records.paperProceedings.editPanel.preview']}"
			rendered="#{(paperProceedingsManagedBean.editTabNumber == 3) or (paperProceedingsManagedBean.editTabNumber == 4)}"
			>
			<h:panelGrid columns="1">
				<h:outputText
					value="#{paperProceedingsManagedBean.selectedPaperProceedings.stringRepresentation}"
					styleClass="preview" />
			</h:panelGrid>
		</p:panel>
		<p:panel
			id="scrollableBody"
			rendered="#{paperProceedingsManagedBean.editTabNumber lt 4}"
			styleClass="scrollableBody">
			<p:tabView
				switchType="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)?'client':'ajax'}" 
				activeItem="#{paperProceedingsManagedBean.activeEditTab}" >
				<p:tab
					name="tab0"
					rendered="#{(paperProceedingsManagedBean.editTabNumber == 0) or (paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}"
					header="#{messages['records.paperProceedings.editPanel.firstTab']}">
					<h:panelGrid columns="5" columnClasses="width20, width30, width10, width10, width30" width="100%">
						<!-- ....... conferenceName .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.conferenceName']}*" 
								for="conferenceName" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputTextarea
							id="conferenceName"
							readonly="true" 
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.proceedings.conference.someName}"
							rows="3" 
							required="true"	/>
						<p:commandButton
							rendered="#{(paperProceedingsManagedBean.editMode != modesManagedBean.viewDetails)}" 
							action="#{paperProceedingsManagedBean.pickConference}"
							render="conferenceBrowseModalPanel"
							value="#{messages['records.paperProceedings.editPanel.btnPickConference']}" 
							execute="@this" />
						<h:outputText value=""
							rendered="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="conferenceName" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... conferencePlace .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.conferencePlace']}" 
								for="conferencePlace" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputText
							id="conferencePlace"
							readonly="true" 
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.proceedings.conference.place}"
							maxlength="200" />
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="conferencePlace" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... conferenceYear .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.conferenceYear']}*" 
								for="conferenceYear" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputText
							id="conferenceYear"
							readonly="true" 
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.proceedings.conference.year}"
							required="true" />
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="conferenceYear" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... proceedingsName .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.proceedingsName']}*" 
								for="proceedingsName" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputTextarea
							id="proceedingsName"
							readonly="true" 
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.proceedings.someTitle}"
							rows="3" 
							required="true" />
						<p:commandButton
							rendered="#{(paperProceedingsManagedBean.editMode != modesManagedBean.viewDetails)}" 
							action="#{paperProceedingsManagedBean.pickProceedings}"
							render="proceedingsBrowseModalPanel"
							value="#{messages['records.paperProceedings.editPanel.btnPickProceedings']}" 
							execute="@this" />
						<h:outputText value=""
							rendered="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="proceedingsName" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
					</h:panelGrid>
				</p:tab>
				<p:tab
					name="tab1"
					rendered="#{(paperProceedingsManagedBean.editTabNumber == 1) or (paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}"
					header="#{messages['records.paperProceedings.editPanel.secondTab']}">
					<h:panelGrid columns="5" columnClasses="width20, width30, width10, width10, width30" width="100%">
						<!--  ...... language ..... -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.titleLanguage']}*" 
								for="language" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:selectOneMenu
							id="language"
							disabled="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}"
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.title.language}" 
							required="true"	>
							<ui:include src="../languagesSelectItems.xhtml"/>
						</p:selectOneMenu>
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="language" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... Title .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.title']}*" 
								for="title" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputTextarea
							id="title"
							readonly="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}" 
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.title.content}"
							rows="3" 
							required="#{empty paperProceedingsManagedBean.selectedPaperProceedings.titleTranslations}" />
						<p:commandButton
							action="#{paperProceedingsManagedBean.titleTranslations}"
							value="#{messages['records.paperProceedings.editPanel.btnTitleTranslations']}"
							render="multilingualContentEditModalPanel" 
							execute="@this"/>
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="title" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... Subtitle .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.subtitle']}" 
								for="subtitle" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputTextarea
							id="subtitle"
							readonly="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}" 
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.subtitle.content}"
							rows="3" />
						<p:commandButton
							action="#{paperProceedingsManagedBean.subtitleTranslations}"
							value="#{messages['records.paperProceedings.editPanel.btnSubtitleTranslations']}"
							render="multilingualContentEditModalPanel" 
							execute="@this"/>
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="subtitle" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... startPage .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.startPage']}" 
								for="startPage" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputText
							id="startPage"
							readonly="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}" 
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.startPage}" />
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="startPage" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... endPage .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.endPage']}" 
								for="endPage" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputText
							id="endPage"
							readonly="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}" 
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.endPage}" />
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="endPage" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... numberOfPages .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.numberOfPages']}" 
								for="numberOfPages" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputText
							id="numberOfPages"
							readonly="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}" 
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.numberOfPages}" />
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="numberOfPages" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... note .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.note']}" 
								for="note" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputTextarea
							id="note"
							readonly="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}" 
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.note.content}"
							rows="3" />
						<p:commandButton
							action="#{paperProceedingsManagedBean.noteTranslations}"
							value="#{messages['records.paperProceedings.editPanel.btnNoteTranslations']}"
							render="multilingualContentEditModalPanel" 
							execute="@this"/>
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="note" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... Keywords .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.keywords']}" 
								for="keywords" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputTextarea
							id="keywords"
							readonly="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}" 
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.keywords.content}"
							rows="3" />
						<p:commandButton
							action="#{paperProceedingsManagedBean.keywordsTranslations}"
							value="#{messages['records.paperProceedings.editPanel.btnKeywordsTranslations']}"
							render="multilingualContentEditModalPanel" 
							execute="@this"/>
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="keywords" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... Abstract .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.abstract']}" 
								for="abstract" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputTextarea
							id="abstract"
							readonly="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}" 
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.abstracT.content}"
							rows="3" />
						<p:commandButton
							action="#{paperProceedingsManagedBean.abstractTranslations}"
							value="#{messages['records.paperProceedings.editPanel.btnAbstractTranslations']}"
							render="multilingualContentEditModalPanel" 
							execute="@this"/>
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="abstract" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... DOI ....... -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.doi']}" 
								for="doi" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputText
							id="doi"
							readonly="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}"
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.doi}"
							maxlength="200" />
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="doi" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... URI ....... -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.uri']}" 
								for="uri" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputTextarea
							id="uri"
							readonly="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}"
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.uri}"
							rows="3"/>
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="uri" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... paperType .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['records.paperProceedings.editPanel.paperType']}*" 
								for="paperType" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:selectOneMenu
							id="paperType"
							disabled="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}"
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.paperType}"
							required="true">
							<f:selectItems
								value="#{paperProceedingsManagedBean.allPaperTypesSelectItems}" />
						</p:selectOneMenu>
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="paperType" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
					</h:panelGrid>
				</p:tab>
				<p:tab
					name="tab2"
					rendered="#{(paperProceedingsManagedBean.editTabNumber == 2) or (paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}"
					header="#{messages['records.paperProceedings.editPanel.thirdTab']}">
					<h:panelGrid columns="1" width="100%">
						<!--  Add Author -->
						<p:commandButton
							rendered="#{(paperProceedingsManagedBean.editMode != modesManagedBean.viewDetails)}" 
							action="#{paperProceedingsManagedBean.pickAuthor}"
							render="authorBrowseModalPanel"
							value="#{messages['records.paperProceedings.editPanel.btnAddAuthor']}"	
							execute="@form" />
					</h:panelGrid>
					<h:panelGrid id="authors" columns="1">
						<!-- ===========================   tablePanel  ============================= -->
						
							<p:dataTable id="authorTable"
								value="#{paperProceedingsManagedBean.selectedPaperProceedings.allAuthors}"
								var="authorRow">
								<!--     ........  author name   .......-->
								<p:column>
									<f:facet name="header">
										<h:outputText
											value="#{messages['records.paperProceedings.editPanel.authorTablePanel.name']}*" />
									</f:facet>
									<p:selectOneMenu
										value="#{authorRow.name}"
										disabled="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}">
										<f:selectItems value="#{authorRow.allNamesSelectItems}" />
									</p:selectOneMenu>
								</p:column>
								<!--     ........  change position   .......-->
								<p:column
									rendered="#{(paperProceedingsManagedBean.editMode != modesManagedBean.viewDetails)}">
									<f:facet name="header">
										<h:outputText
											value="#{messages['records.paperProceedings.editPanel.authorTablePanel.changePosition']}" />
									</f:facet>
									<p:commandLink
										action="#{paperProceedingsManagedBean.moveAuthorUp}"
										render="authors, paperProceedingsPreview"
										execute="@form">
										<h:graphicImage library="img" name="up.gif"  />
										<f:param name="controlNumber"
											value="#{authorRow.controlNumber}" />
									</p:commandLink>
									<p:commandLink
										action="#{paperProceedingsManagedBean.moveAuthorDown}"
										render="authors, paperProceedingsPreview"
										execute="@form">
										<h:graphicImage library="img" name="down.gif"  />
										<f:param name="controlNumber"
											value="#{authorRow.controlNumber}" />
									</p:commandLink>
								</p:column>
								<!--     ........  remove author   .......-->
								<p:column
									rendered="#{(paperProceedingsManagedBean.editMode != modesManagedBean.viewDetails)}">
									<f:facet name="header">
										<h:outputText
											value="#{messages['records.paperProceedings.editPanel.authorTablePanel.remove']}" />
									</f:facet>
									<p:commandLink
										rendered="#{authorRow.controlNumber != userManagedBean.loggedUser.author.controlNumber}"
										action="#{paperProceedingsManagedBean.removeAuthor}"
										render="authors, paperProceedingsPreview" 
										execute="@form">
										<h:graphicImage library="img" name="delete.png" />
										<f:param name="controlNumber"
											value="#{authorRow.controlNumber}" />
									</p:commandLink>
								</p:column>
								<!--     ........  add author other format name    .......-->
								<p:column
									rendered="#{(paperProceedingsManagedBean.editMode != modesManagedBean.viewDetails)}">
									<f:facet name="header">
										<h:outputText
											value="#{messages['records.paperProceedings.editPanel.authorTablePanel.addOtherFormatName']}" />
									</f:facet>
									<p:commandLink
										action="#{paperProceedingsManagedBean.addAuthorOtherFormatName}"
										render="authorNameFormatsModalPanel" 
										execute="@form">
										<h:graphicImage library="img" name="edit.png"  />
										<f:param name="controlNumber"
											value="#{authorRow.controlNumber}" />
									</p:commandLink>
								</p:column>
							</p:dataTable>
					</h:panelGrid>
				</p:tab>
				<p:tab
					name="tab3"
					header="#{messages['records.paperProceedings.editPanel.fourthTab']}"
					rendered="#{(paperProceedingsManagedBean.editTabNumber == 3) and (paperProceedingsManagedBean.editMode == modesManagedBean.import)}">
					<p:outputPanel ajaxRendered="true">
						<h:panelGrid columns="2">
							<h:graphicImage library="img" name="info.png" />
							<h:outputText value="#{paperProceedingsManagedBean.pickSimilarMessage}"
								styleClass="ui-message-info" />
						</h:panelGrid>
					</p:outputPanel>
					<p:spacer
						height="10"
						width="1"
						/>
					<p:dataTable
						id="paperProceedingsTable" 
						value="#{paperProceedingsManagedBean.similarPaperProceedings}"
						var="paperProceedingsRow" >
						<!--     ........  title   .......-->
						<p:column >
							<f:facet name="header">
								<h:outputText
									value="#{messages['records.paperProceedings.tablePanel.reference']}" />
							</f:facet>
							<h:outputText value="#{paperProceedingsRow.stringRepresentation}" />
						</p:column>
						<!--     ........  chooseSimilar   
						 or ((paperProceedingsManagedBean.editMode == modesManagedBean.import) and (userManagedBean.loggedIn) and (userManagedBean.privileges[privilegesManagedBean.formImport][privilegesManagedBean.editFullData]))
						 and (userManagedBean.loggedIn) and (not userManagedBean.privileges[privilegesManagedBean.formImport][privilegesManagedBean.editFullData])
						.......-->
						<p:column>
							<f:facet name="header">
								<h:outputText
									value="#{messages['records.paperProceedings.tablePanel.chooseSimilar']}" />
							</f:facet>
							<p:commandLink
								action="#{paperProceedingsManagedBean.chooseSimilar}"
								render="mainPanel, #{paperProceedingsManagedBean.renderModalPanels}"
								rendered="#{(paperProceedingsManagedBean.editMode != modesManagedBean.import)}"
								limitRender="true"
								immediate="true"
								execute="@this">
								<h:graphicImage library="img" name="pick.png" />
								<f:param name="controlNumber" value="#{paperProceedingsRow.controlNumber}" />
								<p:tooltip followMouse="true" direction="topRight"
									showDelay="1000" styleClass="tooltip" mode="client">
									<span class="tooltipSpan"> 
										<h:panelGrid columns="2">
											<h:graphicImage library="img" name="pickToolTip.png" />
											<h:outputText
												value="#{messages['records.paperProceedings.tablePanel.btnPick']}" />
										</h:panelGrid> 
									</span>
								</p:tooltip>
							</p:commandLink>
							<p:commandLink
								action="#{paperProceedingsManagedBean.examineData}"
								render="mainPanel, #{paperProceedingsManagedBean.renderModalPanels}"
								rendered="#{(paperProceedingsManagedBean.editMode == modesManagedBean.import) }"
								limitRender="true"
								immediate="true"
								execute="@this">
								<h:graphicImage library="img" name="pick.png" />
								<f:param name="controlNumber" value="#{paperProceedingsRow.controlNumber}" />
								<p:tooltip followMouse="true" direction="topRight"
									showDelay="1000" styleClass="tooltip" mode="client">
									<span class="tooltipSpan"> 
										<h:panelGrid columns="2">
											<h:graphicImage library="img" name="pickToolTip.png" />
											<h:outputText
												value="#{messages['records.paperProceedings.tablePanel.btnExamine']}" />
										</h:panelGrid> 
									</span>
								</p:tooltip>
							</p:commandLink>
						</p:column>
						<!--     ........  examineThis   
						"#{(paperProceedingsManagedBean.editMode == modesManagedBean.import) and (userManagedBean.loggedIn) and (userManagedBean.privileges[privilegesManagedBean.formImport][privilegesManagedBean.editFullData])}"
						.......-->
						<p:column
							rendered="false" >
							<f:facet name="header">
								<h:outputText
									value="#{messages['records.paperProceedings.tablePanel.examine']}" />
							</f:facet>
							<p:commandLink
								action="#{paperProceedingsManagedBean.examineData}"
								render="mainPanel, #{paperProceedingsManagedBean.renderModalPanels}"
								limitRender="true"
								immediate="true"
								execute="@this">
								<h:graphicImage library="img" name="pick.png" />
								<f:param name="controlNumber" value="#{paperProceedingsRow.controlNumber}" />
								<p:tooltip followMouse="true" direction="topRight"
									showDelay="1000" styleClass="tooltip" mode="client">
									<span class="tooltipSpan"> 
										<h:panelGrid columns="2">
											<h:graphicImage library="img" name="pickToolTip.png" />
											<h:outputText
												value="#{messages['records.paperProceedings.tablePanel.btnExamine']}" />
										</h:panelGrid> 
									</span>
								</p:tooltip>
							</p:commandLink>
						</p:column>
						<!--     ........  mergeWithThis   .......-->
						<p:column
							rendered="false">
							<f:facet name="header">
								<h:outputText
									value="#{messages['records.paperProceedings.tablePanel.merge']}" />
							</f:facet>
							<p:commandLink
								action="#{paperProceedingsManagedBean.mergeData}"
								render="mainPanel, #{paperProceedingsManagedBean.renderModalPanels}"
								limitRender="true"
								immediate="true"
								execute="@this">
								<h:graphicImage library="img" name="pick.png" />
								<f:param name="controlNumber" value="#{paperProceedingsRow.controlNumber}" />
								<p:tooltip followMouse="true" direction="topRight"
									showDelay="1000" styleClass="tooltip" mode="client">
									<span class="tooltipSpan"> 
										<h:panelGrid columns="2">
											<h:graphicImage library="img" name="pickToolTip.png" />
											<h:outputText
												value="#{messages['records.paperProceedings.tablePanel.btnMerge']}" />
										</h:panelGrid> 
									</span>
								</p:tooltip>
							</p:commandLink>
						</p:column>
					</p:dataTable>
				</p:tab>
				<p:tab
					name="tab4"
					header="#{messages['records.paperProceedings.editPanel.fifthTab']}"
					rendered="#{(paperProceedingsManagedBean.editMode == modesManagedBean.viewDetails)}">
					<p:outputPanel ajaxRendered="true">
						<p:inputTextarea
							value="#{paperProceedingsManagedBean.selectedPaperProceedings.record.MARC21Record.printableString}"
							readonly="true" cols="60" styleClass="marc21TextArea" />
					</p:outputPanel>
				</p:tab>
			</p:tabView>
		</p:panel>
		<!--================= Update, Create, Cancel buttons ====================  -->
		<h:panelGrid columns="3">
			<p:commandButton
				rendered="#{(((paperProceedingsManagedBean.editMode == modesManagedBean.add) and (paperProceedingsManagedBean.editTabNumber gt 1)) or ((paperProceedingsManagedBean.editMode == modesManagedBean.update) and (paperProceedingsManagedBean.editTabNumber gt 0)))  and (paperProceedingsManagedBean.editTabNumber lt 3) }"
				action="#{paperProceedingsManagedBean.previousEditTab}"
				value="#{messages['records.paperProceedings.editPanel.btnPrevious']}"
				render="paperProceedingsEditModalPanel"
				limitRender="true" 
				execute="@form" />
			<p:commandButton
				rendered="#{(paperProceedingsManagedBean.editMode != modesManagedBean.viewDetails) and (paperProceedingsManagedBean.editTabNumber lt 2)}"
				action="#{paperProceedingsManagedBean.nextEditTab}"
				value="#{messages['records.paperProceedings.editPanel.btnNext']}"
				render="paperProceedingsEditModalPanel"
				limitRender="true" 
				execute="@form" />
			<p:commandButton
				rendered="#{(paperProceedingsManagedBean.editMode == modesManagedBean.update) and (paperProceedingsManagedBean.editTabNumber == 2)}"
				action="#{paperProceedingsManagedBean.update}"
				value="#{messages['records.paperProceedings.editPanel.btnUpdate']}"
				render="paperProceedingsEditModalPanel" 
				limitRender="true" 
				execute="@form" />
			<p:commandButton
				rendered="#{((paperProceedingsManagedBean.editMode == modesManagedBean.add) and (paperProceedingsManagedBean.editTabNumber == 2)) or ((paperProceedingsManagedBean.editMode == modesManagedBean.import) and (paperProceedingsManagedBean.editTabNumber == 3))}"
				action="#{paperProceedingsManagedBean.add}"
				value="#{messages['records.paperProceedings.editPanel.btnCreate']}"
				render="paperProceedingsEditModalPanel" 
				limitRender="true" 
				execute="@form" />
			<p:commandButton
				rendered="#{(paperProceedingsManagedBean.editTabNumber lt 3)}" 
				action="#{paperProceedingsManagedBean.switchSimple}"
				value="#{messages['records.paperProceedings.editPanel.btnSimpleEdit']}"
				render="paperProceedingsSimpleEditModalPanel, paperProceedingsEditModalPanel" 
				execute="@form" />
			<p:commandButton
				rendered="#{(paperProceedingsManagedBean.editTabNumber == 4)}" 
				action="#{paperProceedingsManagedBean.finishWizard}"
				value="#{messages['records.paperProceedings.editPanel.btnAllRight']}"
				render="mainPanel, #{paperProceedingsManagedBean.renderModalPanels}" 
				execute="@this" />
		</h:panelGrid>
	</h:panelGrid>
</ui:composition>