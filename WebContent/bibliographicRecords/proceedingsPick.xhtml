<ui:composition xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:p="http://primefaces.org/ui"
     xmlns:mytags="http://dragan.tmd.uns.ac.rs/mytags">

	<h:panelGrid id="proceedingsPickFormPanel">	
		<p:inputText id="general" rendered="false" value="" />
		<p:outputPanel ajaxRendered="true">
			<p:message
				for="general"
				errorClass="errorMessage"
				infoClass="infoMessage"
				warnClass="warnMessage"
				fatalClass="fatalMessage"/>
		</p:outputPanel>
		<p:outputPanel ajaxRendered="true"
				rendered="#{(proceedingsManagedBean.customPick) and (proceedingsManagedBean.tableTabNumber == 0) and (proceedingsManagedBean.pickMessageFirstTab != null)}">
			<h:panelGrid columns="1">
				<h:outputText value="#{proceedingsManagedBean.pickMessageFirstTab}"
					styleClass="ui-message-info" />
			</h:panelGrid>
		</p:outputPanel>
		<p:outputPanel ajaxRendered="true"
				rendered="#{(proceedingsManagedBean.customPick) and (proceedingsManagedBean.tableTabNumber == 1) and (empty proceedingsManagedBean.proceedings)}">
			<h:panelGrid columns="1">
				<h:outputText value="#{proceedingsManagedBean.pickMessageSecondTabSimilarNotExistFirstSentence} #{proceedingsManagedBean.title} #{proceedingsManagedBean.conferenceName} #{proceedingsManagedBean.conferenceYear}"
					styleClass="ui-message-info" />
				<h:outputText value="#{proceedingsManagedBean.pickMessageSecondTabSimilarNotExistSecondSentence}"
					styleClass="ui-message-info" />
			</h:panelGrid>
		</p:outputPanel>
		<p:outputPanel ajaxRendered="true"
				rendered="#{(proceedingsManagedBean.customPick) and (proceedingsManagedBean.tableTabNumber == 1) and (not empty proceedingsManagedBean.proceedings)}">
			<h:panelGrid columns="1">
				<h:outputText value="#{proceedingsManagedBean.pickMessageSecondTabSimilarExistFirstSentence} #{proceedingsManagedBean.title} #{proceedingsManagedBean.conferenceName} #{proceedingsManagedBean.conferenceYear}"
					styleClass="ui-message-info" />
				<h:outputText value="#{proceedingsManagedBean.pickMessageSecondTabSimilarExistSecondSentence}"
					styleClass="ui-message-info" />
				<h:panelGroup>
					<h:outputText value="#{proceedingsManagedBean.pickMessageSecondTabSimilarExistThirdSentence}"
						styleClass="ui-message-info" />
					<h:graphicImage library="img" name="pick.png" />
				</h:panelGroup>
				<h:outputText value="#{proceedingsManagedBean.pickMessageSecondTabSimilarExistFourthSentence}"
					styleClass="ui-message-info" />
			</h:panelGrid>
		</p:outputPanel>
		<p:spacer
			height="10"
			width="1"
			/>
		<h:panelGrid columns="5" columnClasses="width20, width30, width10, width10, width30" width="100%"
			rendered="#{(proceedingsManagedBean.tableTabNumber == 0) and (proceedingsManagedBean.customPick)}">

			<!-- ....... Title .......           -->
			<p:outputPanel ajaxRendered="true">
				<mytags:outputLabel 
					value="#{messages['records.proceedings.editPanel.title']}" 
					for="title" 
					errorStyleClass="errorMessage"
					/>
			</p:outputPanel>
			<p:inputText
				id="title" 
				value="#{proceedingsManagedBean.title}"
				maxlength="200"  />
			<h:outputText value="" />
			<h:outputText value="" />
			<p:outputPanel ajaxRendered="true">
				<p:message
					for="title" 
					errorClass="errorMessage"
					infoClass="infoMessage"
					warnClass="warnMessage"
					fatalClass="fatalMessage" />
			</p:outputPanel>
			<!-- ....... conferenceName .......           -->
			<p:outputPanel ajaxRendered="true">
				<mytags:outputLabel 
					value="#{messages['records.proceedings.editPanel.conferenceName']}*" 
					for="conferenceName" 
					errorStyleClass="errorMessage"
					/>
			</p:outputPanel>
			<p:inputText
				id="conferenceName"
				value="#{proceedingsManagedBean.conferenceName}" 
				maxlength="200"
				required="true" />
			<h:outputText value="" />
			<h:outputText value="" />
			<p:outputPanel ajaxRendered="true">
				<p:message
					for="conferenceName" 
					errorClass="errorMessage"
					infoClass="infoMessage"
					warnClass="warnMessage"
					fatalClass="fatalMessage" />
			</p:outputPanel>
			<!-- ....... conferenceYear .......           -->
			<p:outputPanel ajaxRendered="true">
				<mytags:outputLabel 
					value="#{messages['records.proceedings.editPanel.conferenceYear']}*" 
					for="conferenceYear" 
					errorStyleClass="errorMessage"
					/>
			</p:outputPanel>
			<p:inputText
				id="conferenceYear"
				value="#{proceedingsManagedBean.conferenceYear}"
				required="true"
				onkeydown="keyDownHandler(event, 'proceedingsPickForm:nextBtn')" />
			<h:outputText value="" />
			<h:outputText value="" />
			<p:outputPanel ajaxRendered="true">
				<p:message
					for="conferenceYear" 
					errorClass="errorMessage"
					infoClass="infoMessage"
					warnClass="warnMessage"
					fatalClass="fatalMessage" />
			</p:outputPanel>
		</h:panelGrid>
		<h:panelGrid 
			rendered="#{(proceedingsManagedBean.tableTabNumber == 1) or (not proceedingsManagedBean.customPick)}">
			<ui:include src="../bibliographicRecords/proceedingsTable.xhtml" />
		</h:panelGrid>
		<h:panelGrid columns="2">
			<p:commandButton
				rendered="#{(proceedingsManagedBean.tableTabNumber == 1) and (proceedingsManagedBean.customPick) and (proceedingsManagedBean.conference == null)}"
				action="#{proceedingsManagedBean.previousTableTab}"
				value="#{messages['records.proceedings.pickPanel.btnPrevious']}"
				render="proceedingsBrowseModalPanel"
				limitRender="true" 
				execute="@form" />
			<p:commandButton
				id="nextBtn"
				rendered="#{(proceedingsManagedBean.tableTabNumber == 0) and (proceedingsManagedBean.customPick)}"
				action="#{proceedingsManagedBean.nextTableTab}"
				value="#{messages['records.proceedings.pickPanel.btnNext']}"
				render="proceedingsBrowseModalPanel"
				limitRender="true"  
				execute="@form" />
			<p:commandButton
				rendered="#{(proceedingsManagedBean.tableTabNumber == 1) and (proceedingsManagedBean.customPick) and (userManagedBean.privileges[privilegesManagedBean.formProceedings][privilegesManagedBean.add])}"
				action="#{proceedingsManagedBean.switchToAddMode}"
				value="#{messages['records.proceedings.pickPanel.btnNext']}"
				render="proceedingsEditModalPanel" 
				limitRender="true"
				execute="@this" 
				immediate="true" />
		</h:panelGrid>
	</h:panelGrid>
</ui:composition>