<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:p="http://primefaces.org/ui"
     xmlns:mytags="http://dragan.tmd.uns.ac.rs/mytags"
    >
	<f:view locale="#{userManagedBean.language}">
		<h:head>
			<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
			<meta http-equiv="Refresh" content="#{session.maxInactiveInterval};url=index.html" />
			<meta http-equiv="Pragma" content="no-cache"/>
			<meta http-equiv="Expires" content="-1"/>
			<title><ui:insert name="title">CRIS UNS</ui:insert></title>
		</h:head>
		<h:body>
			<h:outputStylesheet library="stylesheet" name="theme.css" target="head"/>
			<h:outputScript library="js" name="functions.js" target="head"/>
			<f:loadBundle
				basename="rs.ac.uns.ftn.informatika.bibliography.utils.ResourceBoundles"
				var="messages" />
			<div id="header">
    			<ui:insert name="header">
    				<ui:include src="../header.xhtml"/>
    			</ui:insert>
			</div>
			<div id="center">
				<p:spacer
					height="20"
					width="1"
					/>
				<div id="pleaseWait" class="transparent"></div>
				<div id="progressBar" class="progressbar">
					<h:graphicImage library="img" name="progressbar.gif"></h:graphicImage>
				</div>
				<p:ajaxStatus for="form_region" onstart="onStart()" oncomplete="onStop()" />
				<p:fragment id="form_region">
					<h:panelGrid id="mainPanel">
						<p:panel id="specVerLstBrowseModalPanel"
							header="#{messages['records.specVerLst.header']}">
							<h:form id="specVerLstTableForm">
								<h:panelGrid id="specVerLstTableFormPanel" >
									<p:inputText id="general" rendered="false" value="" />
									<ui:include src="../bibliographicRecords/specVerLstTable.xhtml"/>
								</h:panelGrid>
							</h:form>
						</p:panel>
					</h:panelGrid>
					<h:panelGrid id="modalPanel2s">
						<!-- ======================== Specially Verified List  ============= -->
						<!-- ======================== Specially Verified List Pick panel ============= -->
						<h:form id="specVerLstPickForm">
							<h:panelGrid id="specVerLstBrowseModalPanel">
								<p:dialog modal="true"
									rendered="#{(specVerLstManagedBean.tableMode == modesManagedBean.pick)}"
									show="true" 
									domElementAttachment="parent"
									autosized="true"
									onbeforeshow="calculateSize('specVerLstPickForm:scrollableBody');"
									onshow="formId='specVerLstPickForm'; setFocus(); ">
									<f:facet name="header">
										<h:outputText value="#{messages['records.specVerLst.header']}"
											styleClass="panel-header" />
									</f:facet>
									<f:facet name="controls">
										<p:commandLink
											action="#{specVerLstManagedBean.switchToTableNoneMode}"
											styleClass="hidelink" 
											render="mainPanel, #{specVerLstManagedBean.renderModalPanels}"
											limitRender="true"
											immediate="true" 
											execute="@this">
											<h:graphicImage library="img" name="close.png" />
										</p:commandLink>
									</f:facet>
									<ui:include src="../bibliographicRecords/specVerLstPick.xhtml"/>
								</p:dialog>
							</h:panelGrid>
						</h:form>
						<!-- ======================== Specially Verified List Edit panel ============= -->
						<h:form id="specVerLstEditForm">
							<h:panelGrid id="specVerLstEditModalPanel">
								<p:dialog modal="true"
									rendered="#{(specVerLstManagedBean.editMode == modesManagedBean.update) or (specVerLstManagedBean.editMode == modesManagedBean.viewDetails) or (specVerLstManagedBean.editMode == modesManagedBean.add)}"
									show="true" 
									domElementAttachment="parent"
									autosized="true"
									onbeforeshow="calculateSize('specVerLstEditForm:scrollableBody');"
									onshow="formId='specVerLstEditForm'; setFocus(); ">
									<f:facet name="header">
										<h:outputText
											value="#{messages['records.specVerLst.editPanel.header']}"
											styleClass="panel-header" />
									</f:facet>
									<f:facet name="controls">
										<p:commandLink
											action="#{specVerLstManagedBean.switchToEditNoneMode}"
											styleClass="hidelink" 
											render="mainPanel, #{specVerLstManagedBean.renderModalPanels}"
											limitRender="true"
											immediate="true" 
											execute="@this">
											<h:graphicImage library="img" name="close.png" />
										</p:commandLink>
									</f:facet>
									<ui:include src="../bibliographicRecords/specVerLstEdit.xhtml"/>
								</p:dialog>
							</h:panelGrid>
						</h:form>
						<!-- ======================== Specially Verified List end ============= -->
						<!-- ======================== Multilingual content  ============= -->
						<!-- ======================== Multilingual content Edit panel ============= -->
						<h:form id="multilingualContentForm">
							<h:panelGrid id="multilingualContentEditModalPanel">
								<p:dialog modal="true"
									rendered="#{(multilingualContentManagedBean.editMode == modesManagedBean.update) or (multilingualContentManagedBean.editMode == modesManagedBean.viewDetails) or (multilingualContentManagedBean.editMode == modesManagedBean.add)}"
									show="true" 
									domElementAttachment="parent"
									autosized="true"
									onbeforeshow="calculateSize('multilingualContentForm:scrollableBody');"
									onshow="formId='multilingualContentForm'; setFocus(); ">
									<f:facet name="header">
										<h:outputText
											value="#{multilingualContentManagedBean.panelHeader}"
											styleClass="panel-header" />
									</f:facet>
									<f:facet name="controls">
										<p:commandLink
											action="#{multilingualContentManagedBean.exit}"
											styleClass="hidelink" 
											render="multilingualContentEditModalPanel"
											limitRender="true"
											immediate="true" 
											execute="@this">
											<h:graphicImage library="img" name="close.png" />
										</p:commandLink>
									</f:facet>
									<ui:include src="../multilingualContent.xhtml"/>
								</p:dialog>
							</h:panelGrid>
						</h:form>
						<!-- ======================== Multilingual content end ============= -->
						<!-- ======================== Related Records  ============= -->
						<h:form id="relatedRecordsForm">
							<h:panelGrid id="relatedRecordsEditModalPanel">
								<p:dialog modal="true"
									rendered="#{(not empty relatedRecordsManagedBean.selectedRecord)}"
									show="true" 
									domElementAttachment="parent"
									autosized="true"
									onbeforeshow="calculateSize('relatedRecordsForm:scrollableBody');">
									<f:facet name="header">
										<h:outputText
											value="#{messages['records.relatedRecords.header']}"
											styleClass="panel-header" />
									</f:facet>
									<f:facet name="controls">
										<p:commandLink
											action="#{relatedRecordsManagedBean.exit}"
											styleClass="hidelink" 
											render="relatedRecordsEditModalPanel"
											limitRender="true"
											immediate="true" 
											execute="@this">
											<h:graphicImage library="img" name="close.png" />
										</p:commandLink>
									</f:facet>
									<ui:include src="../relatedRecords.xhtml" />
								</p:dialog>
							</h:panelGrid>
						</h:form>
						<!-- ======================== Related records end ============= -->
						<!-- ======================== Specially Verified List Results Type Of Result Publication ============= -->
						<!-- ======================== Specially Verified List Results Type Of Result Publication Pick panel ============= -->
						<!-- ======================== Specially Verified List Results Type Of Result Publication Edit panel ============= -->
						<h:form id="specVerLstResultsTypeOfResPublEditForm">
							<h:panelGrid id="specVerLstResultsTypeOfResPublEditModalPanel">
								<p:dialog modal="true"
									rendered="#{(specVerLstManagedBean.specVerLstResultsTypeOfResPublAddMode)}"
									show="true" 
									domElementAttachment="parent"
									autosized="true"
									onbeforeshow="calculateSize('specVerLstResultsTypeOfResPublEditForm:scrollableBody');"
									onshow="formId='specVerLstResultsTypeOfResPublEditForm'; setFocus(); ">
									<f:facet name="header">
										<h:outputText
											value="#{messages['records.specVerLstResultsTypeOfResPubl.editPanel.header']}"
											styleClass="panel-header" />
									</f:facet>
									<f:facet name="controls">
										<p:commandLink
											action="#{specVerLstManagedBean.switchSpecVerLstResultsTypeOfResPublToNoneMode}"
											styleClass="hidelink" 
											render="mainPanel, specVerLstEditModalPanel, specVerLstResultsTypeOfResPublEditModalPanel"
											limitRender="true"
											immediate="true" 
											execute="@this">
											<h:graphicImage library="img" name="close.png" />
										</p:commandLink>
									</f:facet>
									<h:panelGrid id="specVerLstResultsTypeOfResPublEditFormPanel">
										<p:inputText id="general" rendered="false" value="" />
										<p:outputPanel ajaxRendered="true">
											<p:message
												for="general"
												errorClass="errorMessage"
												infoClass="infoMessage"
												warnClass="warnMessage"
												fatalClass="fatalMessage"/>
										</p:outputPanel>
										<p:panel
											id="scrollableBody"
											styleClass="scrollableBody">
											<h:panelGrid columns="5" columnClasses="width20, width30, width10, width10, width30" width="100%">

												<!-- ....... publication .......-->
												<p:outputPanel ajaxRendered="true">
													<mytags:outputLabel 
														value="#{messages['records.specVerLstResultsTypeOfResPubl.editPanel.publication']}" 
														for="selectedPublication" 
														errorStyleClass="errorMessage" />
												</p:outputPanel>
												<h:panelGroup id="selectedPublication">
													<p:autoComplete id="publication"
														mode="ajax" minChars="3" selectFirst="false"
														value="#{specVerLstManagedBean.selectedPublicationControlNumber}" 
														autocompleteMethod="#{journalManagedBean.autocompleteName}"
														var="_journalRow"
							            				fetchValue="#{_journalRow.controlNumber}"
							            				autofill="false"
							            				onselectitem="jsFuncChooseJournal()" 
							            				style="width:100% !important;"
														inputClass="width98"
														rendered="#{specVerLstManagedBean.selectedPublication eq null}"
							            				>
							            			 	<!--     ........  name   ISSN .......-->
											            <p:column
															style="'background-color:#{org.richfaces.SKIN.tableBackgroundColor}';"
															styleClass="ui-datatable-wide-cell">
															<h:outputText value="#{_journalRow.someName} &nbsp; ( &nbsp; #{_journalRow.issn} &nbsp;)"/>	
														</p:column>
													</p:autoComplete>
													<h:outputText value="" rendered="#{specVerLstManagedBean.selectedPublication eq null}"/>
													
													<h:outputText value="#{specVerLstManagedBean.selectedPublication}" rendered="#{specVerLstManagedBean.selectedPublication != null}"/>
													<p:commandLink
														action="#{specVerLstManagedBean.clearPublication}"
														render="selectedPublication" 
														execute="@form"
														rendered="#{specVerLstManagedBean.selectedPublication != null}">
														<h:graphicImage library="img" name="delete.png" />
													</p:commandLink>
												</h:panelGroup>
												<h:outputText value="" />
												<p:outputPanel ajaxRendered="true">
													<p:message
														for="selectedPublication" 
														errorClass="errorMessage"
														infoClass="infoMessage"
														warnClass="warnMessage"
														fatalClass="fatalMessage" />
												</p:outputPanel>
												<!-- ....... java script funkcije.......           -->
												<p:remoteCommand
														name="jsFuncChooseJournal"
														execute="@form"
														action="#{specVerLstManagedBean.setPublication}" 
														render="specVerLstResultsTypeOfResPublEditFormPanel"
														>
												</p:remoteCommand>
												
												<!-- ....... publication human readable id .......-->
												<p:outputPanel ajaxRendered="true">
													<mytags:outputLabel 
														value="#{messages['records.specVerLstResultsTypeOfResPubl.editPanel.publHumanReadId']}*" 
														for="selectedPublHumanReadId" 
														errorStyleClass="errorMessage" />
												</p:outputPanel>
												<p:inputText value="#{specVerLstManagedBean.selectedPublHumanReadId}" id="selectedPublHumanReadId" style="width:100% !important;"/>
												<h:outputText value="" />
												<h:outputText value="" />
												<p:outputPanel ajaxRendered="true">
													<p:message
														for="selectedPublHumanReadId" 
														errorClass="errorMessage"
														infoClass="infoMessage"
														warnClass="warnMessage"
														fatalClass="fatalMessage" />
												</p:outputPanel>
												
												<!-- ....... publication display name id .......-->
												<p:outputPanel ajaxRendered="true">
													<mytags:outputLabel 
														value="#{messages['records.specVerLstResultsTypeOfResPubl.editPanel.publDisplName']}*" 
														for="selectedPublDisplName" 
														errorStyleClass="errorMessage" />
												</p:outputPanel>
												<p:inputTextarea
													id="selectedPublDisplName"
													value="#{specVerLstManagedBean.selectedPublDisplName}"
													rows="3" 
													style="width:100% !important;"/>
												<h:outputText value="" />
												<h:outputText value="" />
												<p:outputPanel ajaxRendered="true">
													<p:message
														for="selectedPublDisplName" 
														errorClass="errorMessage"
														infoClass="infoMessage"
														warnClass="warnMessage"
														fatalClass="fatalMessage" />
												</p:outputPanel>
												
												<!-- ....... year .......-->
												<p:outputPanel ajaxRendered="true">
													<mytags:outputLabel 
														value="#{messages['records.specVerLstResultsTypeOfResPubl.editPanel.year']}*" 
														for="year" 
														errorStyleClass="errorMessage" />
												</p:outputPanel>
												<p:inputText value="#{specVerLstManagedBean.selectedYear}" maxlength="10" id="year" />
												<h:outputText value="" />
												<h:outputText value="" />
												<p:outputPanel ajaxRendered="true">
													<p:message
														for="year" 
														errorClass="errorMessage"
														infoClass="infoMessage"
														warnClass="warnMessage"
														fatalClass="fatalMessage" />
												</p:outputPanel>
												
												<!-- ....... results Type .......           -->
												<p:outputPanel ajaxRendered="true">
													<mytags:outputLabel 
														value="#{messages['records.specVerLstResultsTypeOfResPubl.editPanel.resultsType']}*" 
														for="resultsTypeCompariableId" 
														errorStyleClass="errorMessage" />
												</p:outputPanel>
												<p:selectOneMenu value="#{specVerLstManagedBean.selectedResultsTypeCompariableId}" id="resultsTypeCompariableId">
													<f:selectItems value="#{specVerLstManagedBean.allResultsTypes}" var="resultsTypeRow"
				                      						 itemLabel="#{resultsTypeRow}" itemValue="#{resultsTypeRow.classComparableId}" />
												</p:selectOneMenu>
												<h:outputText value="" />
												<h:outputText value="" />
												<p:outputPanel ajaxRendered="true">
													<p:message
														for="resultsTypeCompariableId" 
														errorClass="errorMessage"
														infoClass="infoMessage"
														warnClass="warnMessage"
														fatalClass="fatalMessage" />
												</p:outputPanel>
											</h:panelGrid>
										</p:panel>
										<!--================= Create, Cancel buttons ====================  -->
										<h:panelGrid columns="2">
											<p:commandButton
												action="#{specVerLstManagedBean.addSpecVerLstResultsTypeOfResPublToDatabase}"
												value="#{messages['records.specVerLstResultsTypeOfResPubl.editPanel.btnAdd']}"
												render="specVerLstResultsTypeOfResPublEditModalPanel"
												limitRender="true" 
												execute="@form" />
											<p:commandButton
												action="#{specVerLstManagedBean.switchSpecVerLstResultsTypeOfResPublToNoneMode}"
												value="#{messages['records.specVerLstResultsTypeOfResPubl.editPanel.bteClose']}"
												render="mainPanel, specVerLstEditModalPanel, specVerLstResultsTypeOfResPublEditModalPanel"
												limitRender="true" 
												execute="@this" />
										</h:panelGrid>
									</h:panelGrid>
								</p:dialog>
							</h:panelGrid>
						</h:form>
						<!-- ======================== Specially Verified List Results Type Of Result Publication end ============= -->
					</h:panelGrid>
				</p:fragment>
			</div>
			<p:spacer
				height="70"
				width="1"/>
			<div id="footer">
    			<ui:insert name="footer">
					<ui:include src="../footer.xhtml"/>
				</ui:insert>
			</div>
		</h:body>
	</f:view>
</html>
