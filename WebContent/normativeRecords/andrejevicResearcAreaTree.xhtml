<ui:composition xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:a4j="http://richfaces.org/a4j"
     xmlns:rich="http://richfaces.org/rich"
     xmlns:mytags="http://dragan.tmd.uns.ac.rs/mytags">
     
	<h:panelGrid id="andrejevicResearchAreaPanel">
		
		<a4j:jsFunction name="mySelectFunc" action="#{searchAndrejevicManagedBean.selectAndrejevicTreeTroughCommand}"
	            	execute="@form"
					render="@form">
					<a4j:param name="classId" assignTo="#{searchAndrejevicManagedBean.kontrolniBroj}"/>
	    </a4j:jsFunction>
	    
	    <a4j:jsFunction name="myToggleFunc" action="#{searchAndrejevicManagedBean.processTreeToggle}"
	            	execute="@form"
					render="@form">
					<a4j:param name="classId" assignTo="#{searchAndrejevicManagedBean.kontrolniBroj}"/>
	    </a4j:jsFunction>
	          	
		<rich:tree
			id="richTreeAndrejevicResearchAreaTreePanel"
			value="#{searchAndrejevicManagedBean.rootAndrejevicResearchArea}"
			var="andrejevicResearchAreaNode"
			toggleType="ajax"
            selectionType="ajax"
            nodeType="#{andrejevicResearchAreaNode.tree_state}"
	          >
	          	<rich:treeNode 
				iconCollapsed="/resources/img/institution.jpg"
				iconExpanded="/resources/img/institution.jpg"
				iconLeaf="/resources/img/institution.jpg"
				type="empty"
				expanded="#{andrejevicResearchAreaNode.expanded}"
				>
					
						<h:graphicImage value="/resources/img/ce16.jpg" onclick="mySelectFunc('#{andrejevicResearchAreaNode.element.classId}')"/>
						<h:outputLink onclick="mySelectFunc('#{andrejevicResearchAreaNode.element.classId}')" style="color: #000000 !important; text-decoration: none !important;">
							<h:outputText value="#{andrejevicResearchAreaNode}"/>
						</h:outputLink>
						
						
						
				</rich:treeNode>
				
				<rich:treeNode 
				iconCollapsed="/resources/img/institution.jpg"
				iconExpanded="/resources/img/institution.jpg"
				iconLeaf="/resources/img/institution.jpg"
				type="full"
				expanded="#{andrejevicResearchAreaNode.expanded}"
				>
					<h:graphicImage value="/resources/img/cf16.jpg" onclick="mySelectFunc('#{andrejevicResearchAreaNode.element.classId}')"/>
					<h:outputLink onclick="mySelectFunc('#{andrejevicResearchAreaNode.element.classId}')" style="color: #000000 !important; text-decoration: none !important;">
						<h:outputText value="#{andrejevicResearchAreaNode}"/>
					</h:outputLink>
					
				</rich:treeNode>
				
				<rich:treeNode 
				iconCollapsed="/resources/img/institution.jpg"
				iconExpanded="/resources/img/institution.jpg"
				iconLeaf="/resources/img/institution.jpg"
				type="partial"
				expanded="#{andrejevicResearchAreaNode.expanded}"
				>
						<h:graphicImage value="/resources/img/cp16.jpg" onclick="mySelectFunc('#{andrejevicResearchAreaNode.element.classId}')"/>
						<h:outputLink onclick="mySelectFunc('#{andrejevicResearchAreaNode.element.classId}')" style="color: #000000 !important; text-decoration: none !important;">
							<h:outputText value="#{andrejevicResearchAreaNode}"/>
						</h:outputLink>
					
				</rich:treeNode>
        </rich:tree>
	</h:panelGrid>
	
	</ui:composition>
	