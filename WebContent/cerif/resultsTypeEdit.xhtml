<ui:composition xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:p="http://primefaces.org/ui"
     xmlns:mytags="http://dragan.tmd.uns.ac.rs/mytags">

	<h:panelGrid id="resultsTypeEditFormPanel">
		<p:inputText id="general" rendered="false" value="" />
		<p:outputPanel ajaxRendered="true">
			<p:message
				for="general"
				errorClass="errorMessage"
				infoClass="infoMessage"
				warnClass="warnMessage"
				fatalClass="fatalMessage"/>
		</p:outputPanel>
		<!-- .......ResultsType.......           -->
		<p:panel id="resultsTypePreview"
			header="#{messages['cerif.resultsType.editPanel.preview']}"
			rendered="#{resultsTypeManagedBean.editTabNumber == 1}">
			<p:outputPanel ajaxRendered="true">
				<h:panelGrid columns="1">
					<h:outputText
						value="#{resultsTypeManagedBean.selectedResultsType}"
						styleClass="preview" />
				</h:panelGrid>
			</p:outputPanel>
		</p:panel>
		<p:panel
			id="scrollableBody"
			rendered="#{resultsTypeManagedBean.editTabNumber lt 1}"
			styleClass="scrollableBody">
			<p:tabView
				switchType="#{(resultsTypeManagedBean.editMode == modesManagedBean.viewDetails)?'client':'ajax'}" 
				activeItem="#{resultsTypeManagedBean.activeEditTab}" >
				<p:tab
					name="tab0"
					header="#{messages['cerif.resultsType.editPanel.firstTab']}"
					rendered="#{resultsTypeManagedBean.editTabNumber == 0}">
					<h:panelGrid columns="5" columnClasses="width20, width30, width10, width10, width30" width="100%">
						<!-- ....... classId .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['cerif.resultsType.editPanel.classId']}*" 
								for="classId" 
								errorStyleClass="errorMessage" />
						</p:outputPanel>
						<p:inputText
							id="classId"
							readonly="#{(resultsTypeManagedBean.editMode == modesManagedBean.viewDetails) or (resultsTypeManagedBean.editMode == modesManagedBean.update)}" 
							value="#{resultsTypeManagedBean.selectedResultsType.classId}"
							maxlength="30"
							required="true"/>
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="classId" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!--  ...... language ..... -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['cerif.resultsType.editPanel.termLanguage']}*" 
								for="language" 
								errorStyleClass="errorMessage" />
						</p:outputPanel>
						<p:selectOneMenu
							id="language"
							disabled="#{(resultsTypeManagedBean.editMode == modesManagedBean.viewDetails)}"
							value="#{resultsTypeManagedBean.selectedResultsType.originalLanguage}" 
							required="true"	>
							<ui:include src="../languagesSelectItems.xhtml"/>
						</p:selectOneMenu>
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="language" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... Term .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['cerif.resultsType.editPanel.term']}*" 
								for="term" 
								errorStyleClass="errorMessage" />
						</p:outputPanel>
						<p:inputTextarea
							id="term"
							readonly="#{(resultsTypeManagedBean.editMode == modesManagedBean.viewDetails)}" 
							value="#{resultsTypeManagedBean.selectedResultsType.term.content}"
							rows="3" 
							required="#{empty resultsTypeManagedBean.selectedResultsType.termTranslations}"/>
						<p:commandButton
							action="#{resultsTypeManagedBean.termTranslations}"
							value="#{messages['cerif.resultsType.editPanel.btnTermTranslations']}"
							render="multilingualContentEditModalPanel" 
							execute="@this"/>
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="term" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... superResultsTypeGroup .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['cerif.resultsType.editPanel.superResultsTypeGroup']}" 
								for="superResultsTypeGroup" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputTextarea
							id="superResultsTypeGroup"
							readonly="true" 
							value="#{resultsTypeManagedBean.selectedResultsType.superResultsTypeGroup}"
							rows="3"/>
						<h:outputText 
							value="" 
							/>
						<h:outputText 
							value=""  
							/>
						<p:outputPanel
							ajaxRendered="true" 
							>
							<p:message
								for="superResultsTypeGroup" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... superResultsType .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['cerif.resultsType.editPanel.superResultsType']}" 
								for="superResultsType" 
								errorStyleClass="errorMessage"
								/>
						</p:outputPanel>
						<p:inputTextarea
							id="superResultsType"
							readonly="true" 
							value="#{resultsTypeManagedBean.selectedResultsType.superResultsType}"
							rows="3"/>
						<h:outputText 
							value="" 
							/>
						<h:outputText 
							value=""  
							/>
						<p:outputPanel
							ajaxRendered="true" 
							>
							<p:message
								for="superResultsType" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... Description .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['cerif.resultsType.editPanel.description']}" 
								for="description" 
								errorStyleClass="errorMessage" />
						</p:outputPanel>
						<p:inputTextarea
							id="description"
							readonly="#{(resultsTypeManagedBean.editMode == modesManagedBean.viewDetails)}" 
							value="#{resultsTypeManagedBean.selectedResultsType.description.content}"
							rows="3"/>
						<p:commandButton
							action="#{resultsTypeManagedBean.descriptionTranslations}"
							value="#{messages['cerif.resultsType.editPanel.btnDescriptionTranslations']}"
							render="multilingualContentEditModalPanel" 
							execute="@this"/>
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="description" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... START DATE .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['cerif.resultsType.editPanel.startDate']}" 
								for="startDate" 
								errorStyleClass="errorMessage" />
						</p:outputPanel>
						<p:calendar
							id="startDate"
							locale="en/US"
							disabled="#{(resultsTypeManagedBean.editMode == modesManagedBean.viewDetails)}"
							value="#{resultsTypeManagedBean.startDate}"
							datePattern="d/M/yyyy"
							required="true"
							firstWeekDay="1"
							enableManualInput="false"
							defaultTime="00:00"
						/>
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="startDate" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
						<!-- ....... END DATE .......           -->
						<p:outputPanel ajaxRendered="true">
							<mytags:outputLabel 
								value="#{messages['cerif.resultsType.editPanel.endDate']}" 
								for="endDate" 
								errorStyleClass="errorMessage" />
						</p:outputPanel>
						<p:calendar
							id="endDate"
							locale="en/US"
							disabled="#{(resultsTypeManagedBean.editMode == modesManagedBean.viewDetails)}"
							value="#{resultsTypeManagedBean.endDate}"
							datePattern="d/M/yyyy"
							required="true"
							firstWeekDay="1"
							enableManualInput="false"
							defaultTime="23:59"
						/>
						<h:outputText value="" />
						<h:outputText value="" />
						<p:outputPanel ajaxRendered="true">
							<p:message
								for="endDate" 
								errorClass="errorMessage"
								infoClass="infoMessage"
								warnClass="warnMessage"
								fatalClass="fatalMessage" />
						</p:outputPanel>
					</h:panelGrid>
				</p:tab>
			</p:tabView>
		</p:panel>
		<!--================= Update, Create, Cancel buttons ====================  -->
		<h:panelGrid>
			<p:commandButton
				rendered="#{(resultsTypeManagedBean.editMode == modesManagedBean.update) and (resultsTypeManagedBean.editTabNumber == 0)}"
				action="#{resultsTypeManagedBean.update}"
				value="#{messages['cerif.resultsType.editPanel.btnUpdate']}"
				render="resultsTypeEditModalPanel" 
				limitRender="true" 
				execute="@form" />
			<p:commandButton
				rendered="#{(resultsTypeManagedBean.editMode == modesManagedBean.add) and (resultsTypeManagedBean.editTabNumber == 0)}"
				action="#{resultsTypeManagedBean.add}"
				value="#{messages['cerif.resultsType.editPanel.btnCreate']}"
				render="resultsTypeEditModalPanel" 
				limitRender="true" 
				execute="@form" />
			<p:commandButton
				rendered="#{(resultsTypeManagedBean.editTabNumber == 1)}" 
				action="#{resultsTypeManagedBean.finishWizard}"
				value="#{messages['cerif.resultsType.editPanel.btnAllRight']}"
				render="mainPanel, #{resultsTypeManagedBean.renderModalPanels}"
				limitRender="true"
				immediate="true" 
				execute="@this"/>
		</h:panelGrid>
	</h:panelGrid>
</ui:composition>