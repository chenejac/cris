<ui:composition xmlns="http://www.w3.org/1999/xhtml"
     xmlns:ui="http://java.sun.com/jsf/facelets"
     xmlns:h="http://java.sun.com/jsf/html"
     xmlns:f="http://java.sun.com/jsf/core"
     xmlns:p="http://primefaces.org/ui"
     xmlns:mytags="http://dragan.tmd.uns.ac.rs/mytags">

	<h:panelGrid id="multilingualContentPublisherFormPanel">
		<p:inputText id="general" rendered="false" value="" />
		<p:outputPanel ajaxRendered="true">
			<p:message
				for="general"
				errorClass="errorMessage"
				infoClass="infoMessage"
				warnClass="warnMessage"
				fatalClass="fatalMessage"/>
		</p:outputPanel>
		<p:panel
			id="scrollableBody" 
			styleClass="scrollableBody"	>
			<h:panelGrid 
				rendered="#{(multilingualContentPublisherManagedBean.editMode != modesManagedBean.viewDetails)}" 
				columns="5" 
				columnClasses="width20, width30, width10, width10, width30"
				width="100%">
				<!-- ....... pubName .......           -->
				<p:outputPanel ajaxRendered="true">
					<mytags:outputLabel 
						value="#{messages['records.multilingualContentPublisher.editPanel.pubName']}*" 
						for="pubName" 
						errorStyleClass="errorMessage"
						/>
				</p:outputPanel>
				<p:inputTextarea
					id="pubName"
					value="#{multilingualContentPublisherManagedBean.pubName}" 
					rows="3" 
					required="true"/>
				<h:outputText value="" />
				<h:outputText value=""  />
				<p:outputPanel ajaxRendered="true" >
					<p:message
						for="pubName" 
						errorClass="errorMessage"
						infoClass="infoMessage"
						warnClass="warnMessage"
						fatalClass="fatalMessage" />
				</p:outputPanel>
				<!-- ....... pubPlace .......           -->
				<p:outputPanel ajaxRendered="true">
					<mytags:outputLabel 
						value="#{messages['records.multilingualContentPublisher.editPanel.pubPlace']}" 
						for="pubPlace" 
						errorStyleClass="errorMessage"
						/>
				</p:outputPanel>
				<p:inputText
					id="pubPlace"
					value="#{multilingualContentPublisherManagedBean.pubPlace}" 
					maxlength="300" />
				<h:outputText value="" />
				<h:outputText value=""  />
				<p:outputPanel ajaxRendered="true" >
					<p:message
						for="pubPlace" 
						errorClass="errorMessage"
						infoClass="infoMessage"
						warnClass="warnMessage"
						fatalClass="fatalMessage" />
				</p:outputPanel>
				<!-- ....... pubState .......           -->
				<p:outputPanel ajaxRendered="true">
					<mytags:outputLabel 
						value="#{messages['records.multilingualContentPublisher.editPanel.pubState']}" 
						for="pubState" 
						errorStyleClass="errorMessage"
						/>
				</p:outputPanel>
				<p:inputText
					id="pubState"
					value="#{multilingualContentPublisherManagedBean.pubState}" 
					maxlength="300" />
				<h:outputText value="" />
				<h:outputText value=""  />
				<p:outputPanel ajaxRendered="true" >
					<p:message
						for="pubState" 
						errorClass="errorMessage"
						infoClass="infoMessage"
						warnClass="warnMessage"
						fatalClass="fatalMessage" />
				</p:outputPanel>
				<!-- ....... Language.......           -->
				<p:outputPanel ajaxRendered="true">
					<mytags:outputLabel 
						value="#{messages['records.multilingualContentPublisher.editPanel.language']}*" 
						for="language" 
						errorStyleClass="errorMessage"
						/>
				</p:outputPanel>
				<p:selectOneMenu
					id="language"
					value="#{multilingualContentPublisherManagedBean.language}" 
					required="true"	>
					<ui:include src="./languagesSelectItems.xhtml"/>
				</p:selectOneMenu>
				<p:commandButton
					action="#{multilingualContentPublisherManagedBean.add}"
					value="#{messages['records.multilingualContentPublisher.editPanel.btnAddPublisher']}"
					render="multilingualContentPublisherEditModalPanel" 
					execute="@form" />
				<h:outputText value=""  />
				<p:outputPanel ajaxRendered="true" >
					<p:message
						for="language" 
						errorClass="errorMessage"
						infoClass="infoMessage"
						warnClass="warnMessage"
						fatalClass="fatalMessage" />
				</p:outputPanel>
			</h:panelGrid>
			<!-- .......translated publisher name .......           -->
			<p:dataTable id="multilingualContentPublisherTable"
				value="#{multilingualContentPublisherManagedBean.publisherTranslations}"
				var="publisherRow"
				rowKeyVar="publisherKeyVar">
				<!--     ........  pubName   .......-->
				<p:column>
					<f:facet name="header">
						<h:outputText
							value="#{messages['records.multilingualContentPublisher.editPanel.pubName']}" />
					</f:facet>
					<h:outputText value="#{publisherRow.name}" />
				</p:column>
				<!--     ........  pubPlace   .......-->
				<p:column>
					<f:facet name="header">
						<h:outputText
							value="#{messages['records.multilingualContentPublisher.editPanel.pubPlace']}" />
					</f:facet>
					<h:outputText value="#{publisherRow.place}" />
				</p:column>
				<!--     ........  pubState   .......-->
				<p:column>
					<f:facet name="header">
						<h:outputText
							value="#{messages['records.multilingualContentPublisher.editPanel.pubState']}" />
					</f:facet>
					<h:outputText value="#{publisherRow.state}" />
				</p:column>
				<!--     ........  language   .......-->
				<p:column>
					<f:facet name="header">
						<h:outputText
							value="#{messages['records.multilingualContentPublisher.editPanel.language']}" />
					</f:facet>
					<h:outputText value="#{publisherRow.localizedLanguage}" />
				</p:column>
				<!--     ........  remove    .......-->
				<p:column
					rendered="#{(multilingualContentPublisherManagedBean.editMode != modesManagedBean.viewDetails)}" >
					<f:facet name="header">
						<h:outputText
							value="#{messages['records.multilingualContentPublisher.editPanel.remove']}" />
					</f:facet>
					<p:commandLink
						action="#{multilingualContentPublisherManagedBean.remove}"
						render="scrollableBody"
						limitRender="true" 
						immediate="true" 
						execute="@this" >
						<h:graphicImage library="img" name="delete.png" />
						<f:param name="ordNum" value="#{publisherKeyVar}" />
					</p:commandLink>
				</p:column>
			</p:dataTable>
		</p:panel>
		<!--================= Update, Create, Cancel buttons ====================  -->
		<h:panelGrid columns="1">
			<p:commandButton
				action="#{multilingualContentPublisherManagedBean.exit}"
				value="#{messages['records.multilingualContentPublisher.editPanel.btnExit']}"
				render="multilingualContentPublisherEditModalPanel"
				limitRender="true"
				immediate="true" 
				execute="@this" />
		</h:panelGrid>
	</h:panelGrid>	
</ui:composition>