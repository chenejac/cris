#Generated by ResourceBundle Editor (http://eclipse-rbe.sourceforge.net)
# OAICat Configuration
#OAIHandler.baseURL=http://alcme.oclc.org/oaicat/OAIHandler
# Uncomment this line if you want to include an XSL stylesheet reference
# in the OAI response so they can be rendered into HTML by browsers.

# Choose one of the following two
AbstractCatalog.granularity            = YYYY-MM-DD
# Here are some AbstractCatalog settings for JDBC
AbstractCatalog.oaiCatalogClassName    = rs.ac.uns.ftn.informatika.bibliography.interoperability.oaipmh.CRISUNSJDBCOAICatalog
AbstractCatalog.recordFactoryClassName = rs.ac.uns.ftn.informatika.bibliography.interoperability.oaipmh.CRISUNSJDBCRecordFactory
AbstractCatalog.secondsToLive          = 3600

CRISUNSJDBCRecordFactory.deletedLabel = marc21record.ARCHIVED

# Crosswalks for JDBC
#Crosswalks.marc21=rs.ac.uns.ftn.informatika.bibliography.interoperability.oaipmh.MARC21JDBC2MARCXML
#Crosswalks.oai_etdms=rs.ac.uns.ftn.informatika.bibliography.interoperability.oaipmh.NDLTDMARC21JDBC2oai_etdms
Crosswalks.oai_dc = rs.ac.uns.ftn.informatika.bibliography.interoperability.oaipmh.ProQuestMARC21JDBC2oai_dc

#    Demo SQL tables
# metadata_record = sql table containing the item's metadata
# sets = sql table containing the list of sets for this repository
# localIdentifiers_by_set = sql table associating metadata_records with the sets it is in from the sets table.
# Optional
# about_list = sql table containing the list of about elements returned from this repository.
# record_about_map = sql table associating metadata_records with the about values from the about_list table.
#    Required SQL table columns
# metadata_record.localIdentifier = local identifier for the record.
# metadata_record.timestamp = the timestamp to be used for OAI from/until range limits
# metadata_record.dc... = the sql columns needed by the crosswalks
# localIdentifiers_by_set.setSpec = the OAI setSpec value
# localIdentifiers_by_set.localIdentifier = local identifier for the record.
# sets.setSpec = the OAI setSpec element value
# sets.setName = the OAI setName element value
# sets.setDescription = the OAI setDescription element value
# Optional
# record_about_map.about_ID = a key into the about_list table
# record_about_map.localIdentifier = local identifier for the record
# about_list.about_ID = primary key
# about_list.about_value = the value of the about element
# SQL query tokens: \\f = from, \\u = until, \\s = set, \\i = localIdentifier, \\o = oaiIdentifier
# \\a = row cursor, \\b = maxListSize
ExtendedJDBCOAICatalog.identifierQuery        = SELECT r.RECORDID, r.DATEMODIFIED, r.ARCHIVED FROM MARC21RECORD r, FILE_STORAGE f WHERE r.ARCHIVED in (100,2) AND (RECORDSTRING like '%710_2#__0(BISIS)8011%' OR RECORDSTRING like '%710_2#__0(BISIS)114901%' OR RECORDSTRING like '%710_2#__0(BISIS)593%' OR RECORDSTRING like '%710_2#__0(BISIS)5928%' OR RECORDSTRING like '%710_2#__0(BISIS)82773%' OR RECORDSTRING like '%710_2#__0(BISIS)5941%' OR RECORDSTRING like '%710_2#__0(BISIS)5940%' OR RECORDSTRING like '%710_2#__0(BISIS)5929%') AND r.RECORDID=f.RECORDID AND f.LICENSE is not null AND f.LICENSE like 'Creative Commons' AND r.RECORDID='\\i' AND r.RECORDID in (SELECT RECORDID FROM MARC21RECORD_CLASS WHERE CFCLASSID in (SELECT CFCLASSID1 FROM CFCLASS_CLASS WHERE CFCLASSSCHEMEID like 'oaipmhSetRelations' AND CFCLASSID like 'belongs to' AND CFCLASSID2 like 'thesesDOISerbia')) 
ExtendedJDBCOAICatalog.isPersistentConnection = true
ExtendedJDBCOAICatalog.jdbcDriverName         = com.mysql.jdbc.Driver
ExtendedJDBCOAICatalog.jdbcLogin              = root
ExtendedJDBCOAICatalog.jdbcPasswd             = root
ExtendedJDBCOAICatalog.jdbcURL                = jdbc:mysql://localhost/bibliography?useUnicode=true&amp;characterEncoding=UTF-8
#AbstractCatalog.granularity=YYYY-MM-DDThh:mm:ssZ
# Here are the settings for ExtendedJDBCOAICatalog
ExtendedJDBCOAICatalog.maxListSize            = 50
ExtendedJDBCOAICatalog.rangeQuery             = SELECT r.RECORDID, r.RECORDSTRING, r.DATEMODIFIED, r.ARCHIVED FROM MARC21RECORD r, FILE_STORAGE f WHERE r.ARCHIVED in (100,2) AND (RECORDSTRING like '%710_2#__0(BISIS)8011%' OR RECORDSTRING like '%710_2#__0(BISIS)114901%' OR RECORDSTRING like '%710_2#__0(BISIS)593%' OR RECORDSTRING like '%710_2#__0(BISIS)5928%' OR RECORDSTRING like '%710_2#__0(BISIS)82773%' OR RECORDSTRING like '%710_2#__0(BISIS)5941%' OR RECORDSTRING like '%710_2#__0(BISIS)5940%' OR RECORDSTRING like '%710_2#__0(BISIS)5929%') AND r.RECORDID=f.RECORDID AND f.LICENSE is not null AND f.LICENSE like 'Creative Commons' AND (r.DATEMODIFIED BETWEEN '\\f' AND '\\u') AND r.RECORDID in (SELECT RECORDID FROM MARC21RECORD_CLASS WHERE CFCLASSID in (SELECT CFCLASSID1 FROM CFCLASS_CLASS WHERE CFCLASSSCHEMEID like 'oaipmhSetRelations' AND CFCLASSID like 'belongs to' AND CFCLASSID2 like 'thesesDOISerbia')) LIMIT \\a,\\b
ExtendedJDBCOAICatalog.rangeSetQuery          = SELECT r.RECORDID, r.RECORDSTRING, r.DATEMODIFIED, r.ARCHIVED FROM MARC21RECORD r, MARC21RECORD_CLASS c, FILE_STORAGE f WHERE r.ARCHIVED in (100,2) AND (RECORDSTRING like '%710_2#__0(BISIS)8011%' OR RECORDSTRING like '%710_2#__0(BISIS)114901%' OR RECORDSTRING like '%710_2#__0(BISIS)593%' OR RECORDSTRING like '%710_2#__0(BISIS)5928%' OR RECORDSTRING like '%710_2#__0(BISIS)82773%' OR RECORDSTRING like '%710_2#__0(BISIS)5941%' OR RECORDSTRING like '%710_2#__0(BISIS)5940%' OR RECORDSTRING like '%710_2#__0(BISIS)5929%') AND r.RECORDID=f.RECORDID AND f.LICENSE is not null AND f.LICENSE like 'Creative Commons' AND r.RECORDID=c.RECORDID AND (r.DATEMODIFIED BETWEEN '\\f' AND '\\u') AND c.CFCLASSID in (SELECT CFCLASSID1 FROM CFCLASS_CLASS WHERE CFCLASSSCHEMEID like 'oaipmhSetRelations' AND CFCLASSID like 'belongs to' AND CFCLASSSCHEMEID2 like 'oaipmhSet' AND CFCLASSID2 like '\\s' AND CFCLASSID2 like 'thesesDOISerbia') LIMIT \\a,\\b
ExtendedJDBCOAICatalog.setNameLabel           = cfclassterm.CFTERM
ExtendedJDBCOAICatalog.setQuery               = SELECT ct.CFCLASSID, ct.CFTERM FROM CFCLASSTERM ct WHERE ct.CFCLASSSCHEMEID like 'oaipmhSet' AND ct.CFLANGCODE like 'eng' AND ct.CFCLASSID like 'thesesDOISerbia'
# ExtendedJDBCOAICatalog (Set) table map
ExtendedJDBCOAICatalog.setSpecItemLabel       = cfclassterm.CFCLASSID
#ExtendedJDBCOAICatalog.aboutValueLabel=about_list.about_value
ExtendedJDBCOAICatalog.setSpecListLabel       = cfclassterm.CFCLASSID
ExtendedJDBCOAICatalog.setSpecQuery           = SELECT ct.CFCLASSID, ct.CFTERM FROM CFCLASSTERM ct WHERE ct.CFCLASSSCHEMEID like 'oaipmhSet' AND ct.CFLANGCODE like 'eng' AND ct.CFCLASSID='\\i'

Identify.adminEmail        = mailto:chenejac@uns.ac.rs
Identify.deletedRecord     = persistent
# This is the old way to specify <description><oai-identifier> for the Identify verb
#Identify.repositoryIdentifier=oaicat.oclc.org
#Identify.sampleIdentifier=oai:oaicat.oclc.org:OCLCNo/ocm00000012
# This is the new way to specify <description> elements in general for the Identify verb
# Append something unique like .1, .2, etc to 'Identify.description' for each occurrence
Identify.description.1     = <description><oai-identifier xmlns="http://www.openarchives.org/OAI/2.0/oai-identifier" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.openarchives.org/OAI/2.0/oai-identifier http://www.openarchives.org/OAI/2.0/oai-identifier.xsd"><scheme>oai</scheme><repositoryIdentifier>PHDUNS</repositoryIdentifier><delimiter>:</delimiter><sampleIdentifier>oai:PHDUNS:OCLCNo/ocm00000012</sampleIdentifier></oai-identifier></description>
Identify.earliestDatestamp = 2009-01-01
# Field label relations for dublin core elements
#JDBC2oai_dc.dcTitleLabel=metadata_record.title
#JDBC2oai_dc.dcCreatorLabel=metadata_record.creator
#JDBC2oai_dc.dcSubjectLabel=metadata_record.subject
#JDBC2oai_dc.dcDescriptionLabel=metadata_record.description
#JDBC2oai_dc.dcPublisherLabel=metadata_record.publisher
#JDBC2oai_dc.dcContributorLabel=metadata_record.contributor
#JDBC2oai_dc.dcDateLabel=metadata_record.work_date
#JDBC2oai_dc.dcTypeLabel=metadata_record.work_type
#JDBC2oai_dc.dcFormatLabel=metadata_record.format
#JDBC2oai_dc.dcIdentifierLabel=image_view.url
#JDBC2oai_dc.dcSourceLabel=metadata_record.source
#JDBC2oai_dc.dcLanguageLabel=metadata_record.language
#JDBC2oai_dc.dcRelationLabel=metadata_record.related_work
#JDBC2oai_dc.dcCoverageLabel=metadata_record.coverage
#JDBC2oai_dc.dcRightsLabel=metadata_record.copyright
# Custom Identify response values
Identify.repositoryName    = CRIS UNS

JDBCRecordFactory.datestampLabel       = marc21record.DATEMODIFIED
JDBCRecordFactory.identifierLabel      = marc21record.RECORDID
#ExtendedJDBCOAICatalog.setDescriptionLabel=cfclassterm.CFCLASSTERM
# JDBCRecordFactory settings
JDBCRecordFactory.repositoryIdentifier = PHDUNS

OAIHandler.styleSheet = /bibliography/interoperability/oaicat.xsl
